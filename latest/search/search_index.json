{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"VM Operator Self-service manage your virtual infrastructure... Getting Started A virtual machine may be deployed on vSphere Supervisor by applying the following YAML with kubectl : apiVersion: vmoperator.vmware.com/v1alpha1 kind: VirtualMachine metadata: name: my-vm namespace: my-namespace spec: className: small imageName: ubuntu-2210 storageClass: iscsi User Guide The user guide provides information on: Bootstrap Providers -- how to bootstrap the VM's guest Supported Platforms -- where/how VM Operator can be deployed Supported Platforms This section lists the platforms on which VM Operator is supported: Supervisor Getting Help Having issues? No worries, let's figure it out together. Please don't hesitate to use GitHub issues .","title":"Home"},{"location":"#vm-operator","text":"Self-service manage your virtual infrastructure...","title":"VM Operator"},{"location":"#getting-started","text":"A virtual machine may be deployed on vSphere Supervisor by applying the following YAML with kubectl : apiVersion: vmoperator.vmware.com/v1alpha1 kind: VirtualMachine metadata: name: my-vm namespace: my-namespace spec: className: small imageName: ubuntu-2210 storageClass: iscsi","title":"Getting Started"},{"location":"#user-guide","text":"The user guide provides information on: Bootstrap Providers -- how to bootstrap the VM's guest Supported Platforms -- where/how VM Operator can be deployed","title":"User Guide"},{"location":"#supported-platforms","text":"This section lists the platforms on which VM Operator is supported: Supervisor","title":"Supported Platforms"},{"location":"#getting-help","text":"Having issues? No worries, let's figure it out together. Please don't hesitate to use GitHub issues .","title":"Getting Help"},{"location":"about/contributing/","text":"Contributing to VM Operator An introduction to contributing to the VM Operator project The VM Operator project welcomes, and depends, on contributions from developers and users in the open source community. Contributions can be made in a number of ways, a few examples are: Code patches via pull requests Documentation improvements Bug reports and patch reviews Reporting an Issue Please include as much detail as you can. This includes: The VM Operator version The name and verison of the platform on which VM Operator is installed A set of logs with debug-logging enabled that show the problem Testing the Development Version If you want to just install and try out the latest development version of VM Operator, you may: Build the container image: shell make docker-build Save the image to a tar file: shell docker save <IMAGE> ><IMAGE>.tar Upload the tar file to each Supervisor control plane node: // TODO(akutz) Load the image into the ContainerD namespace k8s.io on each Supervisor control plane node: // TODO(akutz) Update the VM Operator Deployment to reference the custom image: // TODO(akutz) Running the tests To run the tests, please run the following command(s): make -j1 test test-integration Submitting Pull Requests Once you are happy with your changes or you are ready for some feedback, push it to your fork and send a pull request. For a change to be accepted it will most likely need to have tests and documentation if it is a new feature.","title":"Contributing"},{"location":"about/contributing/#contributing-to-vm-operator","text":"An introduction to contributing to the VM Operator project The VM Operator project welcomes, and depends, on contributions from developers and users in the open source community. Contributions can be made in a number of ways, a few examples are: Code patches via pull requests Documentation improvements Bug reports and patch reviews","title":"Contributing to VM Operator"},{"location":"about/contributing/#reporting-an-issue","text":"Please include as much detail as you can. This includes: The VM Operator version The name and verison of the platform on which VM Operator is installed A set of logs with debug-logging enabled that show the problem","title":"Reporting an Issue"},{"location":"about/contributing/#testing-the-development-version","text":"If you want to just install and try out the latest development version of VM Operator, you may: Build the container image: shell make docker-build Save the image to a tar file: shell docker save <IMAGE> ><IMAGE>.tar Upload the tar file to each Supervisor control plane node: // TODO(akutz) Load the image into the ContainerD namespace k8s.io on each Supervisor control plane node: // TODO(akutz) Update the VM Operator Deployment to reference the custom image: // TODO(akutz)","title":"Testing the Development Version"},{"location":"about/contributing/#running-the-tests","text":"To run the tests, please run the following command(s): make -j1 test test-integration","title":"Running the tests"},{"location":"about/contributing/#submitting-pull-requests","text":"Once you are happy with your changes or you are ready for some feedback, push it to your fork and send a pull request. For a change to be accepted it will most likely need to have tests and documentation if it is a new feature.","title":"Submitting Pull Requests"},{"location":"about/license/","text":"Licensing The legal stuff VM Operator License Licensed under the Apache License, Version 2.0 (the \u201cLicense\u201d); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \u201cAS IS\u201d BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.","title":"License"},{"location":"about/license/#licensing","text":"The legal stuff","title":"Licensing"},{"location":"about/license/#vm-operator-license","text":"Licensed under the Apache License, Version 2.0 (the \u201cLicense\u201d); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \u201cAS IS\u201d BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.","title":"VM Operator License"},{"location":"about/release-notes/","text":"Release Notes // TODO(akutz)","title":"Release Notes"},{"location":"about/release-notes/#release-notes","text":"// TODO(akutz)","title":"Release Notes"},{"location":"apis/overview/","text":"APIs The VM Operator APIs TODO(akutz)","title":"Overview"},{"location":"apis/overview/#apis","text":"The VM Operator APIs TODO(akutz)","title":"APIs"},{"location":"apis/v1alpha1/","text":"v1alpha1 Package v1alpha1 contains the VM Operator v1alpha1 APIs. Kinds ClusterVirtualMachineImage ClusterVirtualMachineImage is the schema for the clustervirtualmachineimage API A ClusterVirtualMachineImage represents the desired specification and the observed status of a ClusterVirtualMachineImage instance. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ClusterVirtualMachineImage metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineImageSpec status VirtualMachineImageStatus ContentLibraryProvider ContentLibraryProvider is the Schema for the contentlibraryproviders API. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ContentLibraryProvider metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec ContentLibraryProviderSpec status ContentLibraryProviderStatus ContentSource ContentSource is the Schema for the contentsources API. A ContentSource represents the desired specification and the observed status of a ContentSource instance. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ContentSource metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec ContentSourceSpec status ContentSourceStatus ContentSourceBinding ContentSourceBinding is an object that represents a ContentSource to Namespace mapping. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ContentSourceBinding metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . contentSourceRef ContentSourceReference ContentSourceRef is a reference to a ContentSource object. VirtualMachine VirtualMachine is the Schema for the virtualmachines API. A VirtualMachine represents the desired specification and the observed status of a VirtualMachine instance. A VirtualMachine is realized by the VirtualMachine controller on a backing Virtual Infrastructure provider such as vSphere. Appears in: - VirtualMachineTemplate Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachine metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineSpec status VirtualMachineStatus VirtualMachineClass VirtualMachineClass is the Schema for the virtualmachineclasses API. A VirtualMachineClass represents the desired specification and the observed status of a VirtualMachineClass instance. A VirtualMachineClass represents a policy and configuration resource which defines a set of attributes to be used in the configuration of a VirtualMachine instance. A VirtualMachine resource references a VirtualMachineClass as a required input. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineClass metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineClassSpec status VirtualMachineClassStatus VirtualMachineClassBinding VirtualMachineClassBinding is a binding object responsible for defining a VirtualMachineClass and a Namespace associated with it. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineClassBinding metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . classRef ClassReference ClassReference is a reference to a VirtualMachineClass object VirtualMachineImage VirtualMachineImage is the Schema for the virtualmachineimages API A VirtualMachineImage represents a VirtualMachine image (e.g. VM template) that can be used as the base image for creating a VirtualMachine instance. The VirtualMachineImage is a required field of the VirtualMachine spec. Currently, VirtualMachineImages are immutable to end users. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineImage metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineImageSpec status VirtualMachineImageStatus VirtualMachinePublishRequest VirtualMachinePublishRequest defines the information necessary to publish a VirtualMachine as a VirtualMachineImage to an image registry. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachinePublishRequest metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachinePublishRequestSpec status VirtualMachinePublishRequestStatus VirtualMachineService VirtualMachineService is the Schema for the virtualmachineservices API. A VirtualMachineService represents the desired specification and the observed status of a VirtualMachineService instance. A VirtualMachineService represents a network service, provided by one or more VirtualMachines, that is desired to be exposed to other workloads both internal and external to the cluster. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineService metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineServiceSpec status VirtualMachineServiceStatus VirtualMachineSetResourcePolicy VirtualMachineSetResourcePolicy is the Schema for the virtualmachinesetresourcepolicies API. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineSetResourcePolicy metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineSetResourcePolicySpec status VirtualMachineSetResourcePolicyStatus WebConsoleRequest WebConsoleRequest allows the creation of a one-time web console ticket that can be used to interact with the VM. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string WebConsoleRequest metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec WebConsoleRequestSpec status WebConsoleRequestStatus Types ClassReference ClassReference contains info to locate a Kind VirtualMachineClass object. Appears in: - VirtualMachineClassBinding Field Description apiVersion string API version of the referent. kind string Kind is the type of resource being referenced. name string Name is the name of resource being referenced. ClusterModuleSpec ClusterModuleSpec defines a grouping of VirtualMachines that are to be grouped together as a logical unit by the infrastructure provider. Within vSphere, the ClusterModuleSpec maps directly to a vSphere ClusterModule. Appears in: - VirtualMachineSetResourcePolicySpec Field Description groupname string GroupName describes the name of the ClusterModule Group. ClusterModuleStatus Appears in: - VirtualMachineSetResourcePolicyStatus Field Description groupname string moduleUUID string clusterMoID string Condition Condition defines an observation of a VM Operator API resource operational state. Appears in: - VirtualMachineImageStatus - VirtualMachinePublishRequestStatus - VirtualMachineStatus Field Description type ConditionType Type of condition in CamelCase or in foo.example.com/CamelCase. Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be useful (see .node.status.conditions), the ability to disambiguate is important. status ConditionStatus Status of the condition, one of True, False, Unknown. severity ConditionSeverity Severity provides an explicit classification of Reason code, so the users or machines can immediately understand the current situation and act accordingly. The Severity field MUST be set only when Status=False. lastTransitionTime Time Last time the condition transitioned from one status to another. This should be when the underlying condition changed. If that is not known, then using the time when the API field changed is acceptable. reason string The reason for the condition's last transition in CamelCase. The specific API may choose whether or not this field is considered a guaranteed API. This field may not be empty. message string A human readable message indicating details about the transition. This field may be empty. ContentLibraryProviderSpec ContentLibraryProviderSpec defines the desired state of ContentLibraryProvider. Appears in: - ContentLibraryProvider Field Description uuid string UUID describes the UUID of a vSphere content library. It is the unique identifier for a vSphere content library. ContentProviderReference ContentProviderReference contains the info to locate a content provider resource. Appears in: - ContentSourceSpec - VirtualMachineImageSpec Field Description apiVersion string API version of the referent. kind string Kind is the type of resource being referenced. name string Name is the name of resource being referenced. namespace string Namespace of the resource being referenced. If empty, cluster scoped resource is assumed. ContentSourceReference ContentSourceReference contains info to locate a Kind ContentSource object. Appears in: - ContentSourceBinding Field Description apiVersion string API version of the referent. kind string Kind is the type of resource being referenced. name string Name is the name of resource being referenced. ContentSourceSpec ContentSourceSpec defines the desired state of ContentSource. Appears in: - ContentSource Field Description providerRef ContentProviderReference ProviderRef is a reference to a content provider object that describes a provider. DynamicDirectPathIODevice DynamicDirectPathIODevice contains the configuration corresponding to a Dynamic DirectPath I/O device. Appears in: - VirtualDevices Field Description vendorID integer deviceID integer customLabel string FolderSpec FolderSpec defines a Folder. Appears in: - VirtualMachineSetResourcePolicySpec Field Description name string Name describes the name of the Folder GuestHeartbeatAction GuestHeartbeatAction describes an action based on the guest heartbeat. Appears in: - Probe Field Description thresholdStatus GuestHeartbeatStatus ThresholdStatus is the value that the guest heartbeat status must be at or above to be considered successful. GuestHeartbeatStatus Underlying type: string GuestHeartbeatStatus is the status type for a GuestHeartbeat. Appears in: - GuestHeartbeatAction InstanceStorage InstanceStorage provides information used to configure instance storage volumes for a VirtualMachine. Appears in: - VirtualMachineClassHardware Field Description storageClass string StorageClass refers to the name of a StorageClass resource used to provide the storage for the configured instance storage volumes. The value of this field has no relationship to or bearing on the field virtualMachine.spec.storageClass. Please note the referred StorageClass must be available in the same namespace as the VirtualMachineClass that uses it for configuring instance storage. volumes InstanceStorageVolume array Volumes describes instance storage volumes created for a VirtualMachine instance that use this VirtualMachineClass. InstanceStorageVolume InstanceStorageVolume contains information required to create an instance storage volume on a VirtualMachine. Appears in: - InstanceStorage Field Description size Quantity InstanceVolumeClaimVolumeSource InstanceVolumeClaimVolumeSource contains information about the instance storage volume claimed as a PVC. Appears in: - PersistentVolumeClaimVolumeSource Field Description storageClass string StorageClass is the name of the Kubernetes StorageClass that provides the backing storage for this instance storage volume. size Quantity Size is the size of the requested instance storage volume. LoadBalancerIngress LoadBalancerIngress represents the status of a load balancer ingress point: traffic intended for the service should be sent to an ingress point. IP or Hostname may both be set in this structure. It is up to the consumer to determine which field should be used when accessing this LoadBalancer. Appears in: - LoadBalancerStatus Field Description ip string IP is set for load balancer ingress points that are specified by an IP address. hostname string Hostname is set for load balancer ingress points that are specified by a DNS address. LoadBalancerStatus LoadBalancerStatus represents the status of a load balancer. Appears in: - VirtualMachineServiceStatus Field Description ingress LoadBalancerIngress array Ingress is a list containing ingress addresses for the load balancer. Traffic intended for the service should be sent to any of these ingress points. NetworkDeviceStatus NetworkDeviceStatus defines the network interface IP configuration including gateway, subnetmask and IP address as seen by OVF properties. Appears in: - NetworkStatus Field Description Gateway4 string Gateway4 is the gateway for the IPv4 address family for this device. IPAddresses string array IpAddresses represents one or more IP addresses assigned to the network device in CIDR notation, ex. \"192.0.2.1/16\". NetworkInterfaceProviderReference NetworkInterfaceProviderReference contains info to locate a network interface provider object. Appears in: - VirtualMachineNetworkInterface Field Description apiGroup string APIGroup is the group for the resource being referenced. kind string Kind is the type of resource being referenced name string Name is the name of resource being referenced apiVersion string API version of the referent. NetworkInterfaceStatus NetworkInterfaceStatus defines the observed state of network interfaces attached to the VirtualMachine as seen by the Guest OS and VMware tools. Appears in: - VirtualMachineStatus Field Description connected boolean Connected represents whether the network interface is connected or not. macAddress string MAC address of the network adapter ipAddresses string array IpAddresses represents zero, one or more IP addresses assigned to the network interface in CIDR notation. For eg, \"192.0.2.1/16\". NetworkStatus NetworkStatus describes the observed state of the VM's network configuration. Appears in: - VirtualMachineTemplate Field Description Devices NetworkDeviceStatus array Devices describe a list of current status information for each network interface that is desired to be attached to the VirtualMachineTemplate. Nameservers string array Nameservers describe a list of the DNS servers accessible by one of the VM's configured network devices. OvfProperty OvfProperty describes information related to a user configurable property element that is supported by VirtualMachineImage and can be customized during VirtualMachine creation. Appears in: - VirtualMachineImageSpec Field Description key string Key describes the key of the ovf property. type string Type describes the type of the ovf property. default string Default describes the default value of the ovf key. description string Description contains the value of the OVF property's optional \"Description\" element. label string Label contains the value of the OVF property's optional \"Label\" element. PersistentVolumeClaimVolumeSource PersistentVolumeClaimVolumeSource is a composite for the Kubernetes corev1.PersistentVolumeClaimVolumeSource and instance storage options. Appears in: - VirtualMachineVolume Field Description claimName string ClaimName is the name of a PersistentVolumeClaim in the same namespace as the pod using this volume. More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims readOnly boolean Will force the ReadOnly setting in VolumeMounts. Default false. instanceVolumeClaim InstanceVolumeClaimVolumeSource InstanceVolumeClaim is set if the PVC is backed by instance storage. Probe Probe describes a health check to be performed against a VirtualMachine to determine whether it is alive or ready to receive traffic. Only one probe action can be specified. Appears in: - VirtualMachineSpec Field Description tcpSocket TCPSocketAction TCPSocket specifies an action involving a TCP port. guestHeartbeat GuestHeartbeatAction GuestHeartbeat specifies an action involving the guest heartbeat status. timeoutSeconds integer TimeoutSeconds specifies a number of seconds after which the probe times out. Defaults to 10 seconds. Minimum value is 1. periodSeconds integer PeriodSeconds specifics how often (in seconds) to perform the probe. Defaults to 10 seconds. Minimum value is 1. ResourcePoolSpec ResourcePoolSpec defines a Logical Grouping of workloads that share resource policies. Appears in: - VirtualMachineSetResourcePolicySpec Field Description name string Name describes the name of the ResourcePool grouping. reservations VirtualMachineResourceSpec Reservations describes the guaranteed resources reserved for the ResourcePool. limits VirtualMachineResourceSpec Limits describes the limit to resources available to the ResourcePool. TCPSocketAction TCPSocketAction describes an action based on opening a socket. Appears in: - Probe Field Description port IntOrString Port specifies a number or name of the port to access on the VirtualMachine. If the format of port is a number, it must be in the range 1 to 65535. If the format of name is a string, it must be an IANA_SVC_NAME. host string Host is an optional host name to connect to. Host defaults to the VirtualMachine IP. VGPUDevice VGPUDevice contains the configuration corresponding to a vGPU device. Appears in: - VirtualDevices Field Description profileName string VirtualDevices VirtualDevices contains information about the virtual devices associated with a VirtualMachineClass. Appears in: - VirtualMachineClassHardware Field Description vgpuDevices VGPUDevice array dynamicDirectPathIODevices DynamicDirectPathIODevice array VirtualMachineAdvancedOptions VirtualMachineAdvancedOptions describes a set of optional, advanced options for configuring a VirtualMachine. Appears in: - VirtualMachineSpec Field Description defaultVolumeProvisioningOptions VirtualMachineVolumeProvisioningOptions DefaultProvisioningOptions specifies the provisioning type to be used by default for VirtualMachine volumes exclusively owned by this VirtualMachine. This does not apply to PersistentVolumeClaim volumes that are created and managed externally. changeBlockTracking boolean ChangeBlockTracking specifies the enablement of incremental backup support for this VirtualMachine, which can be utilized by external backup systems such as VMware Data Recovery. VirtualMachineClassHardware VirtualMachineClassHardware describes a virtual hardware resource specification. Appears in: - VirtualMachineClassSpec Field Description cpus integer memory Quantity devices VirtualDevices instanceStorage InstanceStorage VirtualMachineClassPolicies VirtualMachineClassPolicies describes the policy configuration to be used by a VirtualMachineClass. Appears in: - VirtualMachineClassSpec Field Description resources VirtualMachineClassResources VirtualMachineClassResources VirtualMachineClassResources describes the virtual hardware resource reservations and limits configuration to be used by a VirtualMachineClass. Appears in: - VirtualMachineClassPolicies Field Description requests VirtualMachineResourceSpec limits VirtualMachineResourceSpec VirtualMachineClassSpec VirtualMachineClassSpec defines the desired state of VirtualMachineClass. Appears in: - VirtualMachineClass Field Description hardware VirtualMachineClassHardware Hardware describes the configuration of the VirtualMachineClass attributes related to virtual hardware. The configuration specified in this field is used to customize the virtual hardware characteristics of any VirtualMachine associated with this VirtualMachineClass. policies VirtualMachineClassPolicies Policies describes the configuration of the VirtualMachineClass attributes related to virtual infrastructure policy. The configuration specified in this field is used to customize various policies related to infrastructure resource consumption. description string Description describes the configuration of the VirtualMachineClass which is not related to virtual hardware or infrastructure policy. This field is used to address remaining specs about this VirtualMachineClass. configSpec json.RawMessage ConfigSpec describes additional configuration information for a VirtualMachine. The contents of this field are the VirtualMachineConfigSpec data object (https://bit.ly/3HDtiRu) marshaled to JSON using the discriminator field \"_typeName\" to preserve type information. VirtualMachineImageOSInfo VirtualMachineImageOSInfo describes optional information related to the image operating system that can be added to an image template. This information can be used by the image author to communicate details of the operating system associated with the image. Appears in: - VirtualMachineImageSpec Field Description version string Version typically describes the version of the guest operating system. type string Type typically describes the type of the guest operating system. VirtualMachineImageProductInfo VirtualMachineImageProductInfo describes optional product-related information that can be added to an image template. This information can be used by the image author to communicate details of the product contained in the image. Appears in: - VirtualMachineImageSpec Field Description product string Product typically describes the type of product contained in the image. vendor string Vendor typically describes the name of the vendor that is producing the image. version string Version typically describes a short-form version of the image. fullVersion string FullVersion typically describes a long-form version of the image. VirtualMachineImageSpec VirtualMachineImageSpec defines the desired state of VirtualMachineImage. Appears in: - ClusterVirtualMachineImage - VirtualMachineImage Field Description type string Type describes the type of the VirtualMachineImage. Currently, the only supported image is \"OVF\" imageSourceType string ImageSourceType describes the type of content source of the VirtualMachineImage. The only Content Source supported currently is the vSphere Content Library. imageID string ImageID is a unique identifier exposed by the provider of this VirtualMachineImage. providerRef ContentProviderReference ProviderRef is a reference to a content provider object that describes a provider. productInfo VirtualMachineImageProductInfo ProductInfo describes the attributes of the VirtualMachineImage relating to the product contained in the image. osInfo VirtualMachineImageOSInfo OSInfo describes the attributes of the VirtualMachineImage relating to the Operating System contained in the image. ovfEnv object (keys:string, values: OvfProperty ) OVFEnv describes the user configurable customization parameters of the VirtualMachineImage. hwVersion integer HardwareVersion describes the virtual hardware version of the image VirtualMachineImageStatus VirtualMachineImageStatus defines the observed state of VirtualMachineImage. Appears in: - ClusterVirtualMachineImage - VirtualMachineImage Field Description uuid string Deprecated internalId string Deprecated powerState string Deprecated imageName string ImageName describes the display name of this VirtualMachineImage. imageSupported boolean ImageSupported indicates whether the VirtualMachineImage is supported by VMService. A VirtualMachineImage is supported by VMService if the following conditions are true: - VirtualMachineImageV1Alpha1CompatibleCondition conditions Condition array Conditions describes the current condition information of the VirtualMachineImage object. e.g. if the OS type is supported or image is supported by VMService contentLibraryRef TypedLocalObjectReference ContentLibraryRef is a reference to the source ContentLibrary/ClusterContentLibrary resource. contentVersion string ContentVersion describes the observed content version of this VirtualMachineImage that was last successfully synced with the vSphere content library item. firmware string Firmware describe the firmware type used by this VirtualMachineImage. eg: bios, efi. VirtualMachineMetadata VirtualMachineMetadata defines any metadata that should be passed to the VirtualMachine instance. A typical use case is for this metadata to be used for Guest Customization, however the intended use of the metadata is agnostic to the VirtualMachine controller. VirtualMachineMetadata is read from a configured ConfigMap or a Secret and then propagated to the VirtualMachine instance using a desired \"Transport\" mechanism. Appears in: - VirtualMachineSpec Field Description configMapName string ConfigMapName describes the name of the ConfigMap, in the same Namespace as the VirtualMachine, that should be used for VirtualMachine metadata. The contents of the Data field of the ConfigMap is used as the VM Metadata. The format of the contents of the VM Metadata are not parsed or interpreted by the VirtualMachine controller. Please note, this field and SecretName are mutually exclusive. secretName string SecretName describes the name of the Secret, in the same Namespace as the VirtualMachine, that should be used for VirtualMachine metadata. The contents of the Data field of the Secret is used as the VM Metadata. The format of the contents of the VM Metadata are not parsed or interpreted by the VirtualMachine controller. Please note, this field and ConfigMapName are mutually exclusive. transport VirtualMachineMetadataTransport Transport describes the name of a supported VirtualMachineMetadata transport protocol. Currently, the only supported transport protocols are \"ExtraConfig\", \"OvfEnv\" and \"CloudInit\". VirtualMachineNetworkInterface VirtualMachineNetworkInterface defines the properties of a network interface to attach to a VirtualMachine instance. A VirtualMachineNetworkInterface describes network interface configuration that is used by the VirtualMachine controller when integrating the VirtualMachine into a VirtualNetwork. Currently, only NSX-T and vSphere Distributed Switch (VDS) type network integrations are supported using this VirtualMachineNetworkInterface structure. Appears in: - VirtualMachineSpec Field Description networkType string NetworkType describes the type of VirtualNetwork that is referenced by the NetworkName. Currently, the only supported NetworkTypes are \"nsx-t\" and \"vsphere-distributed\". networkName string NetworkName describes the name of an existing virtual network that this interface should be added to. For \"nsx-t\" NetworkType, this is the name of a pre-existing NSX-T VirtualNetwork. If unspecified, the default network for the namespace will be used. For \"vsphere-distributed\" NetworkType, the NetworkName must be specified. providerRef NetworkInterfaceProviderReference ProviderRef is reference to a network interface provider object that specifies the network interface configuration. If unset, default configuration is assumed. ethernetCardType string EthernetCardType describes an optional ethernet card that should be used by the VirtualNetworkInterface (vNIC) associated with this network integration. The default is \"vmxnet3\". VirtualMachinePort VirtualMachinePort is unused and can be considered deprecated. Appears in: - VirtualMachineSpec Field Description port integer ip string name string protocol Protocol VirtualMachinePublishRequestSource VirtualMachinePublishRequestSource is the source of a publication request, typically a VirtualMachine resource. Appears in: - VirtualMachinePublishRequestSpec - VirtualMachinePublishRequestStatus Field Description name string Name is the name of the referenced object. If omitted this value defaults to the name of the VirtualMachinePublishRequest resource. apiVersion string APIVersion is the API version of the referenced object. kind string Kind is the kind of referenced object. VirtualMachinePublishRequestSpec VirtualMachinePublishRequestSpec defines the desired state of a VirtualMachinePublishRequest. All the fields in this spec are optional. This is especially useful when a DevOps persona wants to publish a VM without doing anything more than applying a VirtualMachinePublishRequest resource that has the same name as said VM in the same namespace as said VM. Appears in: - VirtualMachinePublishRequest Field Description source VirtualMachinePublishRequestSource Source is the source of the publication request, ex. a VirtualMachine resource. If this value is omitted then the publication controller checks to see if there is a resource with the same name as this VirtualMachinePublishRequest resource, an API version equal to spec.source.apiVersion, and a kind equal to spec.source.kind. If such a resource exists, then it is the source of the publication. target VirtualMachinePublishRequestTarget Target is the target of the publication request, ex. item information and a ContentLibrary resource. If this value is omitted, the controller uses spec.source.name + \"-image\" as the name of the published item. Additionally, when omitted the controller attempts to identify the target location by matching a resource with an API version equal to spec.target.location.apiVersion, a kind equal to spec.target.location.kind, w/ the label \"imageregistry.vmware.com/default\". Please note that while optional, if a VirtualMachinePublishRequest sans target information is applied to a namespace without a default publication target, then the VirtualMachinePublishRequest resource will be marked in error. ttlSecondsAfterFinished integer TTLSecondsAfterFinished is the time-to-live duration for how long this resource will be allowed to exist once the publication operation completes. After the TTL expires, the resource will be automatically deleted without the user having to take any direct action. If this field is unset then the request resource will not be automatically deleted. If this field is set to zero then the request resource is eligible for deletion immediately after it finishes. VirtualMachinePublishRequestStatus VirtualMachinePublishRequestStatus defines the observed state of a VirtualMachinePublishRequest. Appears in: - VirtualMachinePublishRequest Field Description sourceRef VirtualMachinePublishRequestSource SourceRef is the reference to the source of the publication request, ex. a VirtualMachine resource. targetRef VirtualMachinePublishRequestTarget TargetRef is the reference to the target of the publication request, ex. item information and a ContentLibrary resource. completionTime Time CompletionTime represents time when the request was completed. It is not guaranteed to be set in happens-before order across separate operations. It is represented in RFC3339 form and is in UTC. The value of this field should be equal to the value of the LastTransitionTime for the status condition Type=Complete. startTime Time StartTime represents time when the request was acknowledged by the controller. It is not guaranteed to be set in happens-before order across separate operations. It is represented in RFC3339 form and is in UTC. attempts integer Attempts represents the number of times the request to publish the VM has been attempted. lastAttemptTime Time LastAttemptTime represents the time when the latest request was sent. imageName string ImageName is the name of the VirtualMachineImage resource that is eventually realized in the same namespace as the VM and publication request after the publication operation completes. This field will not be set until the VirtualMachineImage resource is realized. ready boolean Ready is set to true only when the VM has been published successfully and the new VirtualMachineImage resource is ready. Readiness is determined by waiting until there is status condition Type=Complete and ensuring it and all other status conditions present have a Status=True. The conditions present will be: * SourceValid * TargetValid * Uploaded * ImageAvailable * Complete conditions Condition array Conditions is a list of the latest, available observations of the request's current state. VirtualMachinePublishRequestTarget VirtualMachinePublishRequestTarget is the target of a publication request, typically a ContentLibrary resource. Appears in: - VirtualMachinePublishRequestSpec - VirtualMachinePublishRequestStatus Field Description item VirtualMachinePublishRequestTargetItem Item contains information about the name of the object to which the VM is published. Please note this value is optional and if omitted, the controller will use spec.source.name + \"-image\" as the name of the published item. location VirtualMachinePublishRequestTargetLocation Location contains information about the location to which to publish the VM. VirtualMachinePublishRequestTargetItem VirtualMachinePublishRequestTargetItem is the item part of a publication request's target. Appears in: - VirtualMachinePublishRequestTarget Field Description name string Name is the name of the published object. If the spec.target.location.apiVersion equals imageregistry.vmware.com/v1alpha1 and the spec.target.location.kind equals ContentLibrary, then this should be the name that will show up in vCenter Content Library, not the custom resource name in the namespace. If omitted then the controller will use spec.source.name + \"-image\". description string Description is the description to assign to the published object. VirtualMachinePublishRequestTargetLocation VirtualMachinePublishRequestTargetLocation is the location part of a publication request's target. Appears in: - VirtualMachinePublishRequestTarget Field Description name string Name is the name of the referenced object. Please note an error will be returned if this field is not set in a namespace that lacks a default publication target. A default publication target is a resource with an API version equal to spec.target.location.apiVersion, a kind equal to spec.target.location.kind, and has the label \"imageregistry.vmware.com/default\". apiVersion string APIVersion is the API version of the referenced object. kind string Kind is the kind of referenced object. VirtualMachineResourceSpec VirtualMachineResourceSpec describes a virtual hardware policy specification. Appears in: - ResourcePoolSpec - VirtualMachineClassResources Field Description cpu Quantity memory Quantity VirtualMachineServicePort VirtualMachineServicePort describes the specification of a service port to be exposed by a VirtualMachineService. This VirtualMachineServicePort specification includes attributes that define the external and internal representation of the service port. Appears in: - VirtualMachineServiceSpec Field Description name string Name describes the name to be used to identify this VirtualMachineServicePort protocol string Protocol describes the Layer 4 transport protocol for this port. Supports \"TCP\", \"UDP\", and \"SCTP\". port integer Port describes the external port that will be exposed by the service. targetPort integer TargetPort describes the internal port open on a VirtualMachine that should be mapped to the external Port. VirtualMachineServiceSpec VirtualMachineServiceSpec defines the desired state of VirtualMachineService. Each VirtualMachineService exposes a set of TargetPorts on a set of VirtualMachine instances as a network endpoint within or outside of the Kubernetes cluster. The VirtualMachineService is loosely coupled to the VirtualMachines that are backing it through the use of a Label Selector. In Kubernetes, a Label Selector enables matching of a resource using a set of key-value pairs, aka Labels. By using a Label Selector, the VirtualMachineService can be generically defined to apply to any VirtualMachine in the same namespace that has the appropriate set of labels. Appears in: - VirtualMachineService Field Description type VirtualMachineServiceType Type specifies a desired VirtualMachineServiceType for this VirtualMachineService. Supported types are ClusterIP, LoadBalancer, ExternalName. ports VirtualMachineServicePort array Ports specifies a list of VirtualMachineServicePort to expose with this VirtualMachineService. Each of these ports will be an accessible network entry point to access this service by. selector object (keys:string, values:string) Selector specifies a map of key-value pairs, also known as a Label Selector, that is used to match this VirtualMachineService with the set of VirtualMachines that should back this VirtualMachineService. loadBalancerIP string Only applies to VirtualMachineService Type: LoadBalancer LoadBalancer will get created with the IP specified in this field. This feature depends on whether the underlying load balancer provider supports specifying the loadBalancerIP when a load balancer is created. This field will be ignored if the provider does not support the feature. loadBalancerSourceRanges string array LoadBalancerSourceRanges is an array of IP addresses in the format of CIDRs, for example: 103.21.244.0/22 and 10.0.0.0/24. If specified and supported by the load balancer provider, this will restrict ingress traffic to the specified client IPs. This field will be ignored if the provider does not support the feature. clusterIp string clusterIP is the IP address of the service and is usually assigned randomly by the master. If an address is specified manually and is not in use by others, it will be allocated to the service; otherwise, creation of the service will fail. This field can not be changed through updates. Valid values are \"None\", empty string (\"\"), or a valid IP address. \"None\" can be specified for headless services when proxying is not required. Only applies to types ClusterIP and LoadBalancer. Ignored if type is ExternalName. More info: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies externalName string externalName is the external reference that kubedns or equivalent will return as a CNAME record for this service. No proxying will be involved. Must be a valid RFC-1123 hostname (https://tools.ietf.org/html/rfc1123) and requires Type to be ExternalName. VirtualMachineServiceStatus VirtualMachineServiceStatus defines the observed state of VirtualMachineService. Appears in: - VirtualMachineService Field Description loadBalancer LoadBalancerStatus LoadBalancer contains the current status of the load balancer, if one is present. VirtualMachineSetResourcePolicySpec VirtualMachineSetResourcePolicySpec defines the desired state of VirtualMachineSetResourcePolicy. Appears in: - VirtualMachineSetResourcePolicy Field Description resourcepool ResourcePoolSpec folder FolderSpec clustermodules ClusterModuleSpec array VirtualMachineSetResourcePolicyStatus VirtualMachineSetResourcePolicyStatus defines the observed state of VirtualMachineSetResourcePolicy. Appears in: - VirtualMachineSetResourcePolicy Field Description clustermodules ClusterModuleStatus array VirtualMachineSpec VirtualMachineSpec defines the desired state of a VirtualMachine. Appears in: - VirtualMachine Field Description imageName string ImageName describes the name of a VirtualMachineImage that is to be used as the base Operating System image of the desired VirtualMachine instances. The VirtualMachineImage resources can be introspected to discover identifying attributes that may help users to identify the desired image to use. className string ClassName describes the name of a VirtualMachineClass that is to be used as the overlaid resource configuration of VirtualMachine. A VirtualMachineClass is used to further customize the attributes of the VirtualMachine instance. See VirtualMachineClass for more description. powerState VirtualMachinePowerState PowerState describes the desired power state of a VirtualMachine. Valid power states are \"poweredOff\" and \"poweredOn\". ports VirtualMachinePort array Ports is currently unused and can be considered deprecated. vmMetadata VirtualMachineMetadata VmMetadata describes any optional metadata that should be passed to the Guest OS. storageClass string StorageClass describes the name of a StorageClass that should be used to configure storage-related attributes of the VirtualMachine instance. networkInterfaces VirtualMachineNetworkInterface array NetworkInterfaces describes a list of VirtualMachineNetworkInterfaces to be configured on the VirtualMachine instance. Each of these VirtualMachineNetworkInterfaces describes external network integration configurations that are to be used by the VirtualMachine controller when integrating the VirtualMachine into one or more external networks. resourcePolicyName string ResourcePolicyName describes the name of a VirtualMachineSetResourcePolicy to be used when creating the VirtualMachine instance. volumes VirtualMachineVolume array Volumes describes the list of VirtualMachineVolumes that are desired to be attached to the VirtualMachine. Each of these volumes specifies a volume identity that the VirtualMachine controller will attempt to satisfy, potentially with an external Volume Management service. readinessProbe Probe ReadinessProbe describes a network probe that can be used to determine if the VirtualMachine is available and responding to the probe. advancedOptions VirtualMachineAdvancedOptions AdvancedOptions describes a set of optional, advanced options for configuring a VirtualMachine VirtualMachineStatus VirtualMachineStatus defines the observed state of a VirtualMachine instance. Appears in: - VirtualMachine Field Description host string Host describes the hostname or IP address of the infrastructure host that the VirtualMachine is executing on. powerState VirtualMachinePowerState PowerState describes the current power state of the VirtualMachine. phase VMStatusPhase Phase describes the current phase information of the VirtualMachine. conditions Condition array Conditions describes the current condition information of the VirtualMachine. vmIp string VmIp describes the Primary IP address assigned to the guest operating system, if known. Multiple IPs can be available for the VirtualMachine. Refer to networkInterfaces in the VirtualMachine status for additional IPs uniqueID string UniqueID describes a unique identifier that is provided by the underlying infrastructure provider, such as vSphere. biosUUID string BiosUUID describes a unique identifier provided by the underlying infrastructure provider that is exposed to the Guest OS BIOS as a unique hardware identifier. instanceUUID string InstanceUUID describes the unique instance UUID provided by the underlying infrastructure provider, such as vSphere. volumes VirtualMachineVolumeStatus array Volumes describes a list of current status information for each Volume that is desired to be attached to the VirtualMachine. changeBlockTracking boolean ChangeBlockTracking describes the CBT enablement status on the VirtualMachine. networkInterfaces NetworkInterfaceStatus array NetworkInterfaces describes a list of current status information for each network interface that is desired to be attached to the VirtualMachine. zone string Zone describes the availability zone where the VirtualMachine has been scheduled. Please note this field may be empty when the cluster is not zone-aware. VirtualMachineVolume VirtualMachineVolume describes a Volume that should be attached to a specific VirtualMachine. Only one of PersistentVolumeClaim, VsphereVolume should be specified. Appears in: - VirtualMachineSpec Field Description name string Name specifies the name of the VirtualMachineVolume. Each volume within the scope of a VirtualMachine must have a unique name. persistentVolumeClaim PersistentVolumeClaimVolumeSource PersistentVolumeClaim represents a reference to a PersistentVolumeClaim in the same namespace. The PersistentVolumeClaim must match one of the following: * A volume provisioned (either statically or dynamically) by the cluster's CSI provider. * An instance volume with a lifecycle coupled to the VM. vSphereVolume VsphereVolumeSource VsphereVolume represents a reference to a VsphereVolumeSource in the same namespace. Only one of PersistentVolumeClaim or VsphereVolume can be specified. This is enforced via a webhook VirtualMachineVolumeProvisioningOptions VirtualMachineVolumeProvisioningOptions specifies the provisioning options for a VirtualMachineVolume. Appears in: - VirtualMachineAdvancedOptions Field Description thinProvisioned boolean ThinProvisioned specifies whether to use thin provisioning for the VirtualMachineVolume. This means a sparse (allocate on demand) format with additional space optimizations. eagerZeroed boolean EagerZeroed specifies whether to use eager zero provisioning for the VirtualMachineVolume. An eager zeroed thick disk has all space allocated and wiped clean of any previous contents on the physical media at creation time. Such disks may take longer time during creation compared to other disk formats. EagerZeroed is only applicable if ThinProvisioned is false. This is validated by the webhook. VirtualMachineVolumeStatus VirtualMachineVolumeStatus defines the observed state of a VirtualMachineVolume instance. Appears in: - VirtualMachineStatus Field Description name string Name is the name of the volume in a VirtualMachine. attached boolean Attached represents whether a volume has been successfully attached to the VirtualMachine or not. diskUUID string DiskUuid represents the underlying virtual disk UUID and is present when attachment succeeds. error string Error represents the last error seen when attaching or detaching a volume. Error will be empty if attachment succeeds. VsphereVolumeSource VsphereVolumeSource describes a volume source that represent static disks that belong to a VirtualMachine. Appears in: - VirtualMachineVolume Field Description capacity object (keys: ResourceName , values:Quantity) A description of the virtual volume's resources and capacity deviceKey integer Device key of vSphere disk. WebConsoleRequestSpec WebConsoleRequestSpec describes the specification for used to request a web console request. Appears in: - WebConsoleRequest Field Description virtualMachineName string VirtualMachineName is the VM in the same namespace, for which the web console is requested. publicKey string PublicKey is used to encrypt the status.response. This is expected to be a RSA OAEP public key in X.509 PEM format. WebConsoleRequestStatus WebConsoleRequestStatus defines the observed state, which includes the web console request itself. Appears in: - WebConsoleRequest Field Description response string Response will be the authenticated ticket corresponding to this web console request. expiryTime Time ExpiryTime is when the ticket referenced in Response will expire. proxyAddr string ProxyAddr describes the host address and optional port used to access the VM's web console. The value could be a DNS entry, IPv4, or IPv6 address, followed by an optional port. For example, valid values include: DNS * host.com * host.com:6443 IPv4 * 1.2.3.4 * 1.2.3.4:6443 IPv6 * 1234:1234:1234:1234:1234:1234:1234:1234 * [1234:1234:1234:1234:1234:1234:1234:1234]:6443 * 1234:1234:1234:0000:0000:0000:1234:1234 * 1234:1234:1234::::1234:1234 * [1234:1234:1234::::1234:1234]:6443 In other words, the field may be set to any value that is parsable by Go's https://pkg.go.dev/net#ResolveIPAddr and https://pkg.go.dev/net#ParseIP functions.","title":"v1alpha1"},{"location":"apis/v1alpha1/#v1alpha1","text":"Package v1alpha1 contains the VM Operator v1alpha1 APIs.","title":"v1alpha1"},{"location":"apis/v1alpha1/#kinds","text":"","title":"Kinds"},{"location":"apis/v1alpha1/#clustervirtualmachineimage","text":"ClusterVirtualMachineImage is the schema for the clustervirtualmachineimage API A ClusterVirtualMachineImage represents the desired specification and the observed status of a ClusterVirtualMachineImage instance. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ClusterVirtualMachineImage metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineImageSpec status VirtualMachineImageStatus","title":"ClusterVirtualMachineImage"},{"location":"apis/v1alpha1/#contentlibraryprovider","text":"ContentLibraryProvider is the Schema for the contentlibraryproviders API. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ContentLibraryProvider metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec ContentLibraryProviderSpec status ContentLibraryProviderStatus","title":"ContentLibraryProvider"},{"location":"apis/v1alpha1/#contentsource","text":"ContentSource is the Schema for the contentsources API. A ContentSource represents the desired specification and the observed status of a ContentSource instance. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ContentSource metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec ContentSourceSpec status ContentSourceStatus","title":"ContentSource"},{"location":"apis/v1alpha1/#contentsourcebinding","text":"ContentSourceBinding is an object that represents a ContentSource to Namespace mapping. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string ContentSourceBinding metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . contentSourceRef ContentSourceReference ContentSourceRef is a reference to a ContentSource object.","title":"ContentSourceBinding"},{"location":"apis/v1alpha1/#virtualmachine","text":"VirtualMachine is the Schema for the virtualmachines API. A VirtualMachine represents the desired specification and the observed status of a VirtualMachine instance. A VirtualMachine is realized by the VirtualMachine controller on a backing Virtual Infrastructure provider such as vSphere. Appears in: - VirtualMachineTemplate Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachine metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineSpec status VirtualMachineStatus","title":"VirtualMachine"},{"location":"apis/v1alpha1/#virtualmachineclass","text":"VirtualMachineClass is the Schema for the virtualmachineclasses API. A VirtualMachineClass represents the desired specification and the observed status of a VirtualMachineClass instance. A VirtualMachineClass represents a policy and configuration resource which defines a set of attributes to be used in the configuration of a VirtualMachine instance. A VirtualMachine resource references a VirtualMachineClass as a required input. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineClass metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineClassSpec status VirtualMachineClassStatus","title":"VirtualMachineClass"},{"location":"apis/v1alpha1/#virtualmachineclassbinding","text":"VirtualMachineClassBinding is a binding object responsible for defining a VirtualMachineClass and a Namespace associated with it. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineClassBinding metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . classRef ClassReference ClassReference is a reference to a VirtualMachineClass object","title":"VirtualMachineClassBinding"},{"location":"apis/v1alpha1/#virtualmachineimage","text":"VirtualMachineImage is the Schema for the virtualmachineimages API A VirtualMachineImage represents a VirtualMachine image (e.g. VM template) that can be used as the base image for creating a VirtualMachine instance. The VirtualMachineImage is a required field of the VirtualMachine spec. Currently, VirtualMachineImages are immutable to end users. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineImage metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineImageSpec status VirtualMachineImageStatus","title":"VirtualMachineImage"},{"location":"apis/v1alpha1/#virtualmachinepublishrequest","text":"VirtualMachinePublishRequest defines the information necessary to publish a VirtualMachine as a VirtualMachineImage to an image registry. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachinePublishRequest metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachinePublishRequestSpec status VirtualMachinePublishRequestStatus","title":"VirtualMachinePublishRequest"},{"location":"apis/v1alpha1/#virtualmachineservice","text":"VirtualMachineService is the Schema for the virtualmachineservices API. A VirtualMachineService represents the desired specification and the observed status of a VirtualMachineService instance. A VirtualMachineService represents a network service, provided by one or more VirtualMachines, that is desired to be exposed to other workloads both internal and external to the cluster. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineService metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineServiceSpec status VirtualMachineServiceStatus","title":"VirtualMachineService"},{"location":"apis/v1alpha1/#virtualmachinesetresourcepolicy","text":"VirtualMachineSetResourcePolicy is the Schema for the virtualmachinesetresourcepolicies API. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string VirtualMachineSetResourcePolicy metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec VirtualMachineSetResourcePolicySpec status VirtualMachineSetResourcePolicyStatus","title":"VirtualMachineSetResourcePolicy"},{"location":"apis/v1alpha1/#webconsolerequest","text":"WebConsoleRequest allows the creation of a one-time web console ticket that can be used to interact with the VM. Field Description apiVersion string vmoperator.vmware.com/v1alpha1 kind string WebConsoleRequest metadata ObjectMeta Refer to Kubernetes API documentation for fields of metadata . spec WebConsoleRequestSpec status WebConsoleRequestStatus","title":"WebConsoleRequest"},{"location":"apis/v1alpha1/#types","text":"","title":"Types"},{"location":"apis/v1alpha1/#classreference","text":"ClassReference contains info to locate a Kind VirtualMachineClass object. Appears in: - VirtualMachineClassBinding Field Description apiVersion string API version of the referent. kind string Kind is the type of resource being referenced. name string Name is the name of resource being referenced.","title":"ClassReference"},{"location":"apis/v1alpha1/#clustermodulespec","text":"ClusterModuleSpec defines a grouping of VirtualMachines that are to be grouped together as a logical unit by the infrastructure provider. Within vSphere, the ClusterModuleSpec maps directly to a vSphere ClusterModule. Appears in: - VirtualMachineSetResourcePolicySpec Field Description groupname string GroupName describes the name of the ClusterModule Group.","title":"ClusterModuleSpec"},{"location":"apis/v1alpha1/#clustermodulestatus","text":"Appears in: - VirtualMachineSetResourcePolicyStatus Field Description groupname string moduleUUID string clusterMoID string","title":"ClusterModuleStatus"},{"location":"apis/v1alpha1/#condition","text":"Condition defines an observation of a VM Operator API resource operational state. Appears in: - VirtualMachineImageStatus - VirtualMachinePublishRequestStatus - VirtualMachineStatus Field Description type ConditionType Type of condition in CamelCase or in foo.example.com/CamelCase. Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be useful (see .node.status.conditions), the ability to disambiguate is important. status ConditionStatus Status of the condition, one of True, False, Unknown. severity ConditionSeverity Severity provides an explicit classification of Reason code, so the users or machines can immediately understand the current situation and act accordingly. The Severity field MUST be set only when Status=False. lastTransitionTime Time Last time the condition transitioned from one status to another. This should be when the underlying condition changed. If that is not known, then using the time when the API field changed is acceptable. reason string The reason for the condition's last transition in CamelCase. The specific API may choose whether or not this field is considered a guaranteed API. This field may not be empty. message string A human readable message indicating details about the transition. This field may be empty.","title":"Condition"},{"location":"apis/v1alpha1/#contentlibraryproviderspec","text":"ContentLibraryProviderSpec defines the desired state of ContentLibraryProvider. Appears in: - ContentLibraryProvider Field Description uuid string UUID describes the UUID of a vSphere content library. It is the unique identifier for a vSphere content library.","title":"ContentLibraryProviderSpec"},{"location":"apis/v1alpha1/#contentproviderreference","text":"ContentProviderReference contains the info to locate a content provider resource. Appears in: - ContentSourceSpec - VirtualMachineImageSpec Field Description apiVersion string API version of the referent. kind string Kind is the type of resource being referenced. name string Name is the name of resource being referenced. namespace string Namespace of the resource being referenced. If empty, cluster scoped resource is assumed.","title":"ContentProviderReference"},{"location":"apis/v1alpha1/#contentsourcereference","text":"ContentSourceReference contains info to locate a Kind ContentSource object. Appears in: - ContentSourceBinding Field Description apiVersion string API version of the referent. kind string Kind is the type of resource being referenced. name string Name is the name of resource being referenced.","title":"ContentSourceReference"},{"location":"apis/v1alpha1/#contentsourcespec","text":"ContentSourceSpec defines the desired state of ContentSource. Appears in: - ContentSource Field Description providerRef ContentProviderReference ProviderRef is a reference to a content provider object that describes a provider.","title":"ContentSourceSpec"},{"location":"apis/v1alpha1/#dynamicdirectpathiodevice","text":"DynamicDirectPathIODevice contains the configuration corresponding to a Dynamic DirectPath I/O device. Appears in: - VirtualDevices Field Description vendorID integer deviceID integer customLabel string","title":"DynamicDirectPathIODevice"},{"location":"apis/v1alpha1/#folderspec","text":"FolderSpec defines a Folder. Appears in: - VirtualMachineSetResourcePolicySpec Field Description name string Name describes the name of the Folder","title":"FolderSpec"},{"location":"apis/v1alpha1/#guestheartbeataction","text":"GuestHeartbeatAction describes an action based on the guest heartbeat. Appears in: - Probe Field Description thresholdStatus GuestHeartbeatStatus ThresholdStatus is the value that the guest heartbeat status must be at or above to be considered successful.","title":"GuestHeartbeatAction"},{"location":"apis/v1alpha1/#guestheartbeatstatus","text":"Underlying type: string GuestHeartbeatStatus is the status type for a GuestHeartbeat. Appears in: - GuestHeartbeatAction","title":"GuestHeartbeatStatus"},{"location":"apis/v1alpha1/#instancestorage","text":"InstanceStorage provides information used to configure instance storage volumes for a VirtualMachine. Appears in: - VirtualMachineClassHardware Field Description storageClass string StorageClass refers to the name of a StorageClass resource used to provide the storage for the configured instance storage volumes. The value of this field has no relationship to or bearing on the field virtualMachine.spec.storageClass. Please note the referred StorageClass must be available in the same namespace as the VirtualMachineClass that uses it for configuring instance storage. volumes InstanceStorageVolume array Volumes describes instance storage volumes created for a VirtualMachine instance that use this VirtualMachineClass.","title":"InstanceStorage"},{"location":"apis/v1alpha1/#instancestoragevolume","text":"InstanceStorageVolume contains information required to create an instance storage volume on a VirtualMachine. Appears in: - InstanceStorage Field Description size Quantity","title":"InstanceStorageVolume"},{"location":"apis/v1alpha1/#instancevolumeclaimvolumesource","text":"InstanceVolumeClaimVolumeSource contains information about the instance storage volume claimed as a PVC. Appears in: - PersistentVolumeClaimVolumeSource Field Description storageClass string StorageClass is the name of the Kubernetes StorageClass that provides the backing storage for this instance storage volume. size Quantity Size is the size of the requested instance storage volume.","title":"InstanceVolumeClaimVolumeSource"},{"location":"apis/v1alpha1/#loadbalanceringress","text":"LoadBalancerIngress represents the status of a load balancer ingress point: traffic intended for the service should be sent to an ingress point. IP or Hostname may both be set in this structure. It is up to the consumer to determine which field should be used when accessing this LoadBalancer. Appears in: - LoadBalancerStatus Field Description ip string IP is set for load balancer ingress points that are specified by an IP address. hostname string Hostname is set for load balancer ingress points that are specified by a DNS address.","title":"LoadBalancerIngress"},{"location":"apis/v1alpha1/#loadbalancerstatus","text":"LoadBalancerStatus represents the status of a load balancer. Appears in: - VirtualMachineServiceStatus Field Description ingress LoadBalancerIngress array Ingress is a list containing ingress addresses for the load balancer. Traffic intended for the service should be sent to any of these ingress points.","title":"LoadBalancerStatus"},{"location":"apis/v1alpha1/#networkdevicestatus","text":"NetworkDeviceStatus defines the network interface IP configuration including gateway, subnetmask and IP address as seen by OVF properties. Appears in: - NetworkStatus Field Description Gateway4 string Gateway4 is the gateway for the IPv4 address family for this device. IPAddresses string array IpAddresses represents one or more IP addresses assigned to the network device in CIDR notation, ex. \"192.0.2.1/16\".","title":"NetworkDeviceStatus"},{"location":"apis/v1alpha1/#networkinterfaceproviderreference","text":"NetworkInterfaceProviderReference contains info to locate a network interface provider object. Appears in: - VirtualMachineNetworkInterface Field Description apiGroup string APIGroup is the group for the resource being referenced. kind string Kind is the type of resource being referenced name string Name is the name of resource being referenced apiVersion string API version of the referent.","title":"NetworkInterfaceProviderReference"},{"location":"apis/v1alpha1/#networkinterfacestatus","text":"NetworkInterfaceStatus defines the observed state of network interfaces attached to the VirtualMachine as seen by the Guest OS and VMware tools. Appears in: - VirtualMachineStatus Field Description connected boolean Connected represents whether the network interface is connected or not. macAddress string MAC address of the network adapter ipAddresses string array IpAddresses represents zero, one or more IP addresses assigned to the network interface in CIDR notation. For eg, \"192.0.2.1/16\".","title":"NetworkInterfaceStatus"},{"location":"apis/v1alpha1/#networkstatus","text":"NetworkStatus describes the observed state of the VM's network configuration. Appears in: - VirtualMachineTemplate Field Description Devices NetworkDeviceStatus array Devices describe a list of current status information for each network interface that is desired to be attached to the VirtualMachineTemplate. Nameservers string array Nameservers describe a list of the DNS servers accessible by one of the VM's configured network devices.","title":"NetworkStatus"},{"location":"apis/v1alpha1/#ovfproperty","text":"OvfProperty describes information related to a user configurable property element that is supported by VirtualMachineImage and can be customized during VirtualMachine creation. Appears in: - VirtualMachineImageSpec Field Description key string Key describes the key of the ovf property. type string Type describes the type of the ovf property. default string Default describes the default value of the ovf key. description string Description contains the value of the OVF property's optional \"Description\" element. label string Label contains the value of the OVF property's optional \"Label\" element.","title":"OvfProperty"},{"location":"apis/v1alpha1/#persistentvolumeclaimvolumesource","text":"PersistentVolumeClaimVolumeSource is a composite for the Kubernetes corev1.PersistentVolumeClaimVolumeSource and instance storage options. Appears in: - VirtualMachineVolume Field Description claimName string ClaimName is the name of a PersistentVolumeClaim in the same namespace as the pod using this volume. More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims readOnly boolean Will force the ReadOnly setting in VolumeMounts. Default false. instanceVolumeClaim InstanceVolumeClaimVolumeSource InstanceVolumeClaim is set if the PVC is backed by instance storage.","title":"PersistentVolumeClaimVolumeSource"},{"location":"apis/v1alpha1/#probe","text":"Probe describes a health check to be performed against a VirtualMachine to determine whether it is alive or ready to receive traffic. Only one probe action can be specified. Appears in: - VirtualMachineSpec Field Description tcpSocket TCPSocketAction TCPSocket specifies an action involving a TCP port. guestHeartbeat GuestHeartbeatAction GuestHeartbeat specifies an action involving the guest heartbeat status. timeoutSeconds integer TimeoutSeconds specifies a number of seconds after which the probe times out. Defaults to 10 seconds. Minimum value is 1. periodSeconds integer PeriodSeconds specifics how often (in seconds) to perform the probe. Defaults to 10 seconds. Minimum value is 1.","title":"Probe"},{"location":"apis/v1alpha1/#resourcepoolspec","text":"ResourcePoolSpec defines a Logical Grouping of workloads that share resource policies. Appears in: - VirtualMachineSetResourcePolicySpec Field Description name string Name describes the name of the ResourcePool grouping. reservations VirtualMachineResourceSpec Reservations describes the guaranteed resources reserved for the ResourcePool. limits VirtualMachineResourceSpec Limits describes the limit to resources available to the ResourcePool.","title":"ResourcePoolSpec"},{"location":"apis/v1alpha1/#tcpsocketaction","text":"TCPSocketAction describes an action based on opening a socket. Appears in: - Probe Field Description port IntOrString Port specifies a number or name of the port to access on the VirtualMachine. If the format of port is a number, it must be in the range 1 to 65535. If the format of name is a string, it must be an IANA_SVC_NAME. host string Host is an optional host name to connect to. Host defaults to the VirtualMachine IP.","title":"TCPSocketAction"},{"location":"apis/v1alpha1/#vgpudevice","text":"VGPUDevice contains the configuration corresponding to a vGPU device. Appears in: - VirtualDevices Field Description profileName string","title":"VGPUDevice"},{"location":"apis/v1alpha1/#virtualdevices","text":"VirtualDevices contains information about the virtual devices associated with a VirtualMachineClass. Appears in: - VirtualMachineClassHardware Field Description vgpuDevices VGPUDevice array dynamicDirectPathIODevices DynamicDirectPathIODevice array","title":"VirtualDevices"},{"location":"apis/v1alpha1/#virtualmachineadvancedoptions","text":"VirtualMachineAdvancedOptions describes a set of optional, advanced options for configuring a VirtualMachine. Appears in: - VirtualMachineSpec Field Description defaultVolumeProvisioningOptions VirtualMachineVolumeProvisioningOptions DefaultProvisioningOptions specifies the provisioning type to be used by default for VirtualMachine volumes exclusively owned by this VirtualMachine. This does not apply to PersistentVolumeClaim volumes that are created and managed externally. changeBlockTracking boolean ChangeBlockTracking specifies the enablement of incremental backup support for this VirtualMachine, which can be utilized by external backup systems such as VMware Data Recovery.","title":"VirtualMachineAdvancedOptions"},{"location":"apis/v1alpha1/#virtualmachineclasshardware","text":"VirtualMachineClassHardware describes a virtual hardware resource specification. Appears in: - VirtualMachineClassSpec Field Description cpus integer memory Quantity devices VirtualDevices instanceStorage InstanceStorage","title":"VirtualMachineClassHardware"},{"location":"apis/v1alpha1/#virtualmachineclasspolicies","text":"VirtualMachineClassPolicies describes the policy configuration to be used by a VirtualMachineClass. Appears in: - VirtualMachineClassSpec Field Description resources VirtualMachineClassResources","title":"VirtualMachineClassPolicies"},{"location":"apis/v1alpha1/#virtualmachineclassresources","text":"VirtualMachineClassResources describes the virtual hardware resource reservations and limits configuration to be used by a VirtualMachineClass. Appears in: - VirtualMachineClassPolicies Field Description requests VirtualMachineResourceSpec limits VirtualMachineResourceSpec","title":"VirtualMachineClassResources"},{"location":"apis/v1alpha1/#virtualmachineclassspec","text":"VirtualMachineClassSpec defines the desired state of VirtualMachineClass. Appears in: - VirtualMachineClass Field Description hardware VirtualMachineClassHardware Hardware describes the configuration of the VirtualMachineClass attributes related to virtual hardware. The configuration specified in this field is used to customize the virtual hardware characteristics of any VirtualMachine associated with this VirtualMachineClass. policies VirtualMachineClassPolicies Policies describes the configuration of the VirtualMachineClass attributes related to virtual infrastructure policy. The configuration specified in this field is used to customize various policies related to infrastructure resource consumption. description string Description describes the configuration of the VirtualMachineClass which is not related to virtual hardware or infrastructure policy. This field is used to address remaining specs about this VirtualMachineClass. configSpec json.RawMessage ConfigSpec describes additional configuration information for a VirtualMachine. The contents of this field are the VirtualMachineConfigSpec data object (https://bit.ly/3HDtiRu) marshaled to JSON using the discriminator field \"_typeName\" to preserve type information.","title":"VirtualMachineClassSpec"},{"location":"apis/v1alpha1/#virtualmachineimageosinfo","text":"VirtualMachineImageOSInfo describes optional information related to the image operating system that can be added to an image template. This information can be used by the image author to communicate details of the operating system associated with the image. Appears in: - VirtualMachineImageSpec Field Description version string Version typically describes the version of the guest operating system. type string Type typically describes the type of the guest operating system.","title":"VirtualMachineImageOSInfo"},{"location":"apis/v1alpha1/#virtualmachineimageproductinfo","text":"VirtualMachineImageProductInfo describes optional product-related information that can be added to an image template. This information can be used by the image author to communicate details of the product contained in the image. Appears in: - VirtualMachineImageSpec Field Description product string Product typically describes the type of product contained in the image. vendor string Vendor typically describes the name of the vendor that is producing the image. version string Version typically describes a short-form version of the image. fullVersion string FullVersion typically describes a long-form version of the image.","title":"VirtualMachineImageProductInfo"},{"location":"apis/v1alpha1/#virtualmachineimagespec","text":"VirtualMachineImageSpec defines the desired state of VirtualMachineImage. Appears in: - ClusterVirtualMachineImage - VirtualMachineImage Field Description type string Type describes the type of the VirtualMachineImage. Currently, the only supported image is \"OVF\" imageSourceType string ImageSourceType describes the type of content source of the VirtualMachineImage. The only Content Source supported currently is the vSphere Content Library. imageID string ImageID is a unique identifier exposed by the provider of this VirtualMachineImage. providerRef ContentProviderReference ProviderRef is a reference to a content provider object that describes a provider. productInfo VirtualMachineImageProductInfo ProductInfo describes the attributes of the VirtualMachineImage relating to the product contained in the image. osInfo VirtualMachineImageOSInfo OSInfo describes the attributes of the VirtualMachineImage relating to the Operating System contained in the image. ovfEnv object (keys:string, values: OvfProperty ) OVFEnv describes the user configurable customization parameters of the VirtualMachineImage. hwVersion integer HardwareVersion describes the virtual hardware version of the image","title":"VirtualMachineImageSpec"},{"location":"apis/v1alpha1/#virtualmachineimagestatus","text":"VirtualMachineImageStatus defines the observed state of VirtualMachineImage. Appears in: - ClusterVirtualMachineImage - VirtualMachineImage Field Description uuid string Deprecated internalId string Deprecated powerState string Deprecated imageName string ImageName describes the display name of this VirtualMachineImage. imageSupported boolean ImageSupported indicates whether the VirtualMachineImage is supported by VMService. A VirtualMachineImage is supported by VMService if the following conditions are true: - VirtualMachineImageV1Alpha1CompatibleCondition conditions Condition array Conditions describes the current condition information of the VirtualMachineImage object. e.g. if the OS type is supported or image is supported by VMService contentLibraryRef TypedLocalObjectReference ContentLibraryRef is a reference to the source ContentLibrary/ClusterContentLibrary resource. contentVersion string ContentVersion describes the observed content version of this VirtualMachineImage that was last successfully synced with the vSphere content library item. firmware string Firmware describe the firmware type used by this VirtualMachineImage. eg: bios, efi.","title":"VirtualMachineImageStatus"},{"location":"apis/v1alpha1/#virtualmachinemetadata","text":"VirtualMachineMetadata defines any metadata that should be passed to the VirtualMachine instance. A typical use case is for this metadata to be used for Guest Customization, however the intended use of the metadata is agnostic to the VirtualMachine controller. VirtualMachineMetadata is read from a configured ConfigMap or a Secret and then propagated to the VirtualMachine instance using a desired \"Transport\" mechanism. Appears in: - VirtualMachineSpec Field Description configMapName string ConfigMapName describes the name of the ConfigMap, in the same Namespace as the VirtualMachine, that should be used for VirtualMachine metadata. The contents of the Data field of the ConfigMap is used as the VM Metadata. The format of the contents of the VM Metadata are not parsed or interpreted by the VirtualMachine controller. Please note, this field and SecretName are mutually exclusive. secretName string SecretName describes the name of the Secret, in the same Namespace as the VirtualMachine, that should be used for VirtualMachine metadata. The contents of the Data field of the Secret is used as the VM Metadata. The format of the contents of the VM Metadata are not parsed or interpreted by the VirtualMachine controller. Please note, this field and ConfigMapName are mutually exclusive. transport VirtualMachineMetadataTransport Transport describes the name of a supported VirtualMachineMetadata transport protocol. Currently, the only supported transport protocols are \"ExtraConfig\", \"OvfEnv\" and \"CloudInit\".","title":"VirtualMachineMetadata"},{"location":"apis/v1alpha1/#virtualmachinenetworkinterface","text":"VirtualMachineNetworkInterface defines the properties of a network interface to attach to a VirtualMachine instance. A VirtualMachineNetworkInterface describes network interface configuration that is used by the VirtualMachine controller when integrating the VirtualMachine into a VirtualNetwork. Currently, only NSX-T and vSphere Distributed Switch (VDS) type network integrations are supported using this VirtualMachineNetworkInterface structure. Appears in: - VirtualMachineSpec Field Description networkType string NetworkType describes the type of VirtualNetwork that is referenced by the NetworkName. Currently, the only supported NetworkTypes are \"nsx-t\" and \"vsphere-distributed\". networkName string NetworkName describes the name of an existing virtual network that this interface should be added to. For \"nsx-t\" NetworkType, this is the name of a pre-existing NSX-T VirtualNetwork. If unspecified, the default network for the namespace will be used. For \"vsphere-distributed\" NetworkType, the NetworkName must be specified. providerRef NetworkInterfaceProviderReference ProviderRef is reference to a network interface provider object that specifies the network interface configuration. If unset, default configuration is assumed. ethernetCardType string EthernetCardType describes an optional ethernet card that should be used by the VirtualNetworkInterface (vNIC) associated with this network integration. The default is \"vmxnet3\".","title":"VirtualMachineNetworkInterface"},{"location":"apis/v1alpha1/#virtualmachineport","text":"VirtualMachinePort is unused and can be considered deprecated. Appears in: - VirtualMachineSpec Field Description port integer ip string name string protocol Protocol","title":"VirtualMachinePort"},{"location":"apis/v1alpha1/#virtualmachinepublishrequestsource","text":"VirtualMachinePublishRequestSource is the source of a publication request, typically a VirtualMachine resource. Appears in: - VirtualMachinePublishRequestSpec - VirtualMachinePublishRequestStatus Field Description name string Name is the name of the referenced object. If omitted this value defaults to the name of the VirtualMachinePublishRequest resource. apiVersion string APIVersion is the API version of the referenced object. kind string Kind is the kind of referenced object.","title":"VirtualMachinePublishRequestSource"},{"location":"apis/v1alpha1/#virtualmachinepublishrequestspec","text":"VirtualMachinePublishRequestSpec defines the desired state of a VirtualMachinePublishRequest. All the fields in this spec are optional. This is especially useful when a DevOps persona wants to publish a VM without doing anything more than applying a VirtualMachinePublishRequest resource that has the same name as said VM in the same namespace as said VM. Appears in: - VirtualMachinePublishRequest Field Description source VirtualMachinePublishRequestSource Source is the source of the publication request, ex. a VirtualMachine resource. If this value is omitted then the publication controller checks to see if there is a resource with the same name as this VirtualMachinePublishRequest resource, an API version equal to spec.source.apiVersion, and a kind equal to spec.source.kind. If such a resource exists, then it is the source of the publication. target VirtualMachinePublishRequestTarget Target is the target of the publication request, ex. item information and a ContentLibrary resource. If this value is omitted, the controller uses spec.source.name + \"-image\" as the name of the published item. Additionally, when omitted the controller attempts to identify the target location by matching a resource with an API version equal to spec.target.location.apiVersion, a kind equal to spec.target.location.kind, w/ the label \"imageregistry.vmware.com/default\". Please note that while optional, if a VirtualMachinePublishRequest sans target information is applied to a namespace without a default publication target, then the VirtualMachinePublishRequest resource will be marked in error. ttlSecondsAfterFinished integer TTLSecondsAfterFinished is the time-to-live duration for how long this resource will be allowed to exist once the publication operation completes. After the TTL expires, the resource will be automatically deleted without the user having to take any direct action. If this field is unset then the request resource will not be automatically deleted. If this field is set to zero then the request resource is eligible for deletion immediately after it finishes.","title":"VirtualMachinePublishRequestSpec"},{"location":"apis/v1alpha1/#virtualmachinepublishrequeststatus","text":"VirtualMachinePublishRequestStatus defines the observed state of a VirtualMachinePublishRequest. Appears in: - VirtualMachinePublishRequest Field Description sourceRef VirtualMachinePublishRequestSource SourceRef is the reference to the source of the publication request, ex. a VirtualMachine resource. targetRef VirtualMachinePublishRequestTarget TargetRef is the reference to the target of the publication request, ex. item information and a ContentLibrary resource. completionTime Time CompletionTime represents time when the request was completed. It is not guaranteed to be set in happens-before order across separate operations. It is represented in RFC3339 form and is in UTC. The value of this field should be equal to the value of the LastTransitionTime for the status condition Type=Complete. startTime Time StartTime represents time when the request was acknowledged by the controller. It is not guaranteed to be set in happens-before order across separate operations. It is represented in RFC3339 form and is in UTC. attempts integer Attempts represents the number of times the request to publish the VM has been attempted. lastAttemptTime Time LastAttemptTime represents the time when the latest request was sent. imageName string ImageName is the name of the VirtualMachineImage resource that is eventually realized in the same namespace as the VM and publication request after the publication operation completes. This field will not be set until the VirtualMachineImage resource is realized. ready boolean Ready is set to true only when the VM has been published successfully and the new VirtualMachineImage resource is ready. Readiness is determined by waiting until there is status condition Type=Complete and ensuring it and all other status conditions present have a Status=True. The conditions present will be: * SourceValid * TargetValid * Uploaded * ImageAvailable * Complete conditions Condition array Conditions is a list of the latest, available observations of the request's current state.","title":"VirtualMachinePublishRequestStatus"},{"location":"apis/v1alpha1/#virtualmachinepublishrequesttarget","text":"VirtualMachinePublishRequestTarget is the target of a publication request, typically a ContentLibrary resource. Appears in: - VirtualMachinePublishRequestSpec - VirtualMachinePublishRequestStatus Field Description item VirtualMachinePublishRequestTargetItem Item contains information about the name of the object to which the VM is published. Please note this value is optional and if omitted, the controller will use spec.source.name + \"-image\" as the name of the published item. location VirtualMachinePublishRequestTargetLocation Location contains information about the location to which to publish the VM.","title":"VirtualMachinePublishRequestTarget"},{"location":"apis/v1alpha1/#virtualmachinepublishrequesttargetitem","text":"VirtualMachinePublishRequestTargetItem is the item part of a publication request's target. Appears in: - VirtualMachinePublishRequestTarget Field Description name string Name is the name of the published object. If the spec.target.location.apiVersion equals imageregistry.vmware.com/v1alpha1 and the spec.target.location.kind equals ContentLibrary, then this should be the name that will show up in vCenter Content Library, not the custom resource name in the namespace. If omitted then the controller will use spec.source.name + \"-image\". description string Description is the description to assign to the published object.","title":"VirtualMachinePublishRequestTargetItem"},{"location":"apis/v1alpha1/#virtualmachinepublishrequesttargetlocation","text":"VirtualMachinePublishRequestTargetLocation is the location part of a publication request's target. Appears in: - VirtualMachinePublishRequestTarget Field Description name string Name is the name of the referenced object. Please note an error will be returned if this field is not set in a namespace that lacks a default publication target. A default publication target is a resource with an API version equal to spec.target.location.apiVersion, a kind equal to spec.target.location.kind, and has the label \"imageregistry.vmware.com/default\". apiVersion string APIVersion is the API version of the referenced object. kind string Kind is the kind of referenced object.","title":"VirtualMachinePublishRequestTargetLocation"},{"location":"apis/v1alpha1/#virtualmachineresourcespec","text":"VirtualMachineResourceSpec describes a virtual hardware policy specification. Appears in: - ResourcePoolSpec - VirtualMachineClassResources Field Description cpu Quantity memory Quantity","title":"VirtualMachineResourceSpec"},{"location":"apis/v1alpha1/#virtualmachineserviceport","text":"VirtualMachineServicePort describes the specification of a service port to be exposed by a VirtualMachineService. This VirtualMachineServicePort specification includes attributes that define the external and internal representation of the service port. Appears in: - VirtualMachineServiceSpec Field Description name string Name describes the name to be used to identify this VirtualMachineServicePort protocol string Protocol describes the Layer 4 transport protocol for this port. Supports \"TCP\", \"UDP\", and \"SCTP\". port integer Port describes the external port that will be exposed by the service. targetPort integer TargetPort describes the internal port open on a VirtualMachine that should be mapped to the external Port.","title":"VirtualMachineServicePort"},{"location":"apis/v1alpha1/#virtualmachineservicespec","text":"VirtualMachineServiceSpec defines the desired state of VirtualMachineService. Each VirtualMachineService exposes a set of TargetPorts on a set of VirtualMachine instances as a network endpoint within or outside of the Kubernetes cluster. The VirtualMachineService is loosely coupled to the VirtualMachines that are backing it through the use of a Label Selector. In Kubernetes, a Label Selector enables matching of a resource using a set of key-value pairs, aka Labels. By using a Label Selector, the VirtualMachineService can be generically defined to apply to any VirtualMachine in the same namespace that has the appropriate set of labels. Appears in: - VirtualMachineService Field Description type VirtualMachineServiceType Type specifies a desired VirtualMachineServiceType for this VirtualMachineService. Supported types are ClusterIP, LoadBalancer, ExternalName. ports VirtualMachineServicePort array Ports specifies a list of VirtualMachineServicePort to expose with this VirtualMachineService. Each of these ports will be an accessible network entry point to access this service by. selector object (keys:string, values:string) Selector specifies a map of key-value pairs, also known as a Label Selector, that is used to match this VirtualMachineService with the set of VirtualMachines that should back this VirtualMachineService. loadBalancerIP string Only applies to VirtualMachineService Type: LoadBalancer LoadBalancer will get created with the IP specified in this field. This feature depends on whether the underlying load balancer provider supports specifying the loadBalancerIP when a load balancer is created. This field will be ignored if the provider does not support the feature. loadBalancerSourceRanges string array LoadBalancerSourceRanges is an array of IP addresses in the format of CIDRs, for example: 103.21.244.0/22 and 10.0.0.0/24. If specified and supported by the load balancer provider, this will restrict ingress traffic to the specified client IPs. This field will be ignored if the provider does not support the feature. clusterIp string clusterIP is the IP address of the service and is usually assigned randomly by the master. If an address is specified manually and is not in use by others, it will be allocated to the service; otherwise, creation of the service will fail. This field can not be changed through updates. Valid values are \"None\", empty string (\"\"), or a valid IP address. \"None\" can be specified for headless services when proxying is not required. Only applies to types ClusterIP and LoadBalancer. Ignored if type is ExternalName. More info: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies externalName string externalName is the external reference that kubedns or equivalent will return as a CNAME record for this service. No proxying will be involved. Must be a valid RFC-1123 hostname (https://tools.ietf.org/html/rfc1123) and requires Type to be ExternalName.","title":"VirtualMachineServiceSpec"},{"location":"apis/v1alpha1/#virtualmachineservicestatus","text":"VirtualMachineServiceStatus defines the observed state of VirtualMachineService. Appears in: - VirtualMachineService Field Description loadBalancer LoadBalancerStatus LoadBalancer contains the current status of the load balancer, if one is present.","title":"VirtualMachineServiceStatus"},{"location":"apis/v1alpha1/#virtualmachinesetresourcepolicyspec","text":"VirtualMachineSetResourcePolicySpec defines the desired state of VirtualMachineSetResourcePolicy. Appears in: - VirtualMachineSetResourcePolicy Field Description resourcepool ResourcePoolSpec folder FolderSpec clustermodules ClusterModuleSpec array","title":"VirtualMachineSetResourcePolicySpec"},{"location":"apis/v1alpha1/#virtualmachinesetresourcepolicystatus","text":"VirtualMachineSetResourcePolicyStatus defines the observed state of VirtualMachineSetResourcePolicy. Appears in: - VirtualMachineSetResourcePolicy Field Description clustermodules ClusterModuleStatus array","title":"VirtualMachineSetResourcePolicyStatus"},{"location":"apis/v1alpha1/#virtualmachinespec","text":"VirtualMachineSpec defines the desired state of a VirtualMachine. Appears in: - VirtualMachine Field Description imageName string ImageName describes the name of a VirtualMachineImage that is to be used as the base Operating System image of the desired VirtualMachine instances. The VirtualMachineImage resources can be introspected to discover identifying attributes that may help users to identify the desired image to use. className string ClassName describes the name of a VirtualMachineClass that is to be used as the overlaid resource configuration of VirtualMachine. A VirtualMachineClass is used to further customize the attributes of the VirtualMachine instance. See VirtualMachineClass for more description. powerState VirtualMachinePowerState PowerState describes the desired power state of a VirtualMachine. Valid power states are \"poweredOff\" and \"poweredOn\". ports VirtualMachinePort array Ports is currently unused and can be considered deprecated. vmMetadata VirtualMachineMetadata VmMetadata describes any optional metadata that should be passed to the Guest OS. storageClass string StorageClass describes the name of a StorageClass that should be used to configure storage-related attributes of the VirtualMachine instance. networkInterfaces VirtualMachineNetworkInterface array NetworkInterfaces describes a list of VirtualMachineNetworkInterfaces to be configured on the VirtualMachine instance. Each of these VirtualMachineNetworkInterfaces describes external network integration configurations that are to be used by the VirtualMachine controller when integrating the VirtualMachine into one or more external networks. resourcePolicyName string ResourcePolicyName describes the name of a VirtualMachineSetResourcePolicy to be used when creating the VirtualMachine instance. volumes VirtualMachineVolume array Volumes describes the list of VirtualMachineVolumes that are desired to be attached to the VirtualMachine. Each of these volumes specifies a volume identity that the VirtualMachine controller will attempt to satisfy, potentially with an external Volume Management service. readinessProbe Probe ReadinessProbe describes a network probe that can be used to determine if the VirtualMachine is available and responding to the probe. advancedOptions VirtualMachineAdvancedOptions AdvancedOptions describes a set of optional, advanced options for configuring a VirtualMachine","title":"VirtualMachineSpec"},{"location":"apis/v1alpha1/#virtualmachinestatus","text":"VirtualMachineStatus defines the observed state of a VirtualMachine instance. Appears in: - VirtualMachine Field Description host string Host describes the hostname or IP address of the infrastructure host that the VirtualMachine is executing on. powerState VirtualMachinePowerState PowerState describes the current power state of the VirtualMachine. phase VMStatusPhase Phase describes the current phase information of the VirtualMachine. conditions Condition array Conditions describes the current condition information of the VirtualMachine. vmIp string VmIp describes the Primary IP address assigned to the guest operating system, if known. Multiple IPs can be available for the VirtualMachine. Refer to networkInterfaces in the VirtualMachine status for additional IPs uniqueID string UniqueID describes a unique identifier that is provided by the underlying infrastructure provider, such as vSphere. biosUUID string BiosUUID describes a unique identifier provided by the underlying infrastructure provider that is exposed to the Guest OS BIOS as a unique hardware identifier. instanceUUID string InstanceUUID describes the unique instance UUID provided by the underlying infrastructure provider, such as vSphere. volumes VirtualMachineVolumeStatus array Volumes describes a list of current status information for each Volume that is desired to be attached to the VirtualMachine. changeBlockTracking boolean ChangeBlockTracking describes the CBT enablement status on the VirtualMachine. networkInterfaces NetworkInterfaceStatus array NetworkInterfaces describes a list of current status information for each network interface that is desired to be attached to the VirtualMachine. zone string Zone describes the availability zone where the VirtualMachine has been scheduled. Please note this field may be empty when the cluster is not zone-aware.","title":"VirtualMachineStatus"},{"location":"apis/v1alpha1/#virtualmachinevolume","text":"VirtualMachineVolume describes a Volume that should be attached to a specific VirtualMachine. Only one of PersistentVolumeClaim, VsphereVolume should be specified. Appears in: - VirtualMachineSpec Field Description name string Name specifies the name of the VirtualMachineVolume. Each volume within the scope of a VirtualMachine must have a unique name. persistentVolumeClaim PersistentVolumeClaimVolumeSource PersistentVolumeClaim represents a reference to a PersistentVolumeClaim in the same namespace. The PersistentVolumeClaim must match one of the following: * A volume provisioned (either statically or dynamically) by the cluster's CSI provider. * An instance volume with a lifecycle coupled to the VM. vSphereVolume VsphereVolumeSource VsphereVolume represents a reference to a VsphereVolumeSource in the same namespace. Only one of PersistentVolumeClaim or VsphereVolume can be specified. This is enforced via a webhook","title":"VirtualMachineVolume"},{"location":"apis/v1alpha1/#virtualmachinevolumeprovisioningoptions","text":"VirtualMachineVolumeProvisioningOptions specifies the provisioning options for a VirtualMachineVolume. Appears in: - VirtualMachineAdvancedOptions Field Description thinProvisioned boolean ThinProvisioned specifies whether to use thin provisioning for the VirtualMachineVolume. This means a sparse (allocate on demand) format with additional space optimizations. eagerZeroed boolean EagerZeroed specifies whether to use eager zero provisioning for the VirtualMachineVolume. An eager zeroed thick disk has all space allocated and wiped clean of any previous contents on the physical media at creation time. Such disks may take longer time during creation compared to other disk formats. EagerZeroed is only applicable if ThinProvisioned is false. This is validated by the webhook.","title":"VirtualMachineVolumeProvisioningOptions"},{"location":"apis/v1alpha1/#virtualmachinevolumestatus","text":"VirtualMachineVolumeStatus defines the observed state of a VirtualMachineVolume instance. Appears in: - VirtualMachineStatus Field Description name string Name is the name of the volume in a VirtualMachine. attached boolean Attached represents whether a volume has been successfully attached to the VirtualMachine or not. diskUUID string DiskUuid represents the underlying virtual disk UUID and is present when attachment succeeds. error string Error represents the last error seen when attaching or detaching a volume. Error will be empty if attachment succeeds.","title":"VirtualMachineVolumeStatus"},{"location":"apis/v1alpha1/#vspherevolumesource","text":"VsphereVolumeSource describes a volume source that represent static disks that belong to a VirtualMachine. Appears in: - VirtualMachineVolume Field Description capacity object (keys: ResourceName , values:Quantity) A description of the virtual volume's resources and capacity deviceKey integer Device key of vSphere disk.","title":"VsphereVolumeSource"},{"location":"apis/v1alpha1/#webconsolerequestspec","text":"WebConsoleRequestSpec describes the specification for used to request a web console request. Appears in: - WebConsoleRequest Field Description virtualMachineName string VirtualMachineName is the VM in the same namespace, for which the web console is requested. publicKey string PublicKey is used to encrypt the status.response. This is expected to be a RSA OAEP public key in X.509 PEM format.","title":"WebConsoleRequestSpec"},{"location":"apis/v1alpha1/#webconsolerequeststatus","text":"WebConsoleRequestStatus defines the observed state, which includes the web console request itself. Appears in: - WebConsoleRequest Field Description response string Response will be the authenticated ticket corresponding to this web console request. expiryTime Time ExpiryTime is when the ticket referenced in Response will expire. proxyAddr string ProxyAddr describes the host address and optional port used to access the VM's web console. The value could be a DNS entry, IPv4, or IPv6 address, followed by an optional port. For example, valid values include: DNS * host.com * host.com:6443 IPv4 * 1.2.3.4 * 1.2.3.4:6443 IPv6 * 1234:1234:1234:1234:1234:1234:1234:1234 * [1234:1234:1234:1234:1234:1234:1234:1234]:6443 * 1234:1234:1234:0000:0000:0000:1234:1234 * 1234:1234:1234::::1234:1234 * [1234:1234:1234::::1234:1234]:6443 In other words, the field may be set to any value that is parsable by Go's https://pkg.go.dev/net#ResolveIPAddr and https://pkg.go.dev/net#ParseIP functions.","title":"WebConsoleRequestStatus"},{"location":"dev-guide/build-reference/","text":"Build Reference How to build VM Operator Build with Docker By far the simplest method for building VM Operator is with Docker. Docker Build Requirements This project has very few build requirements, but there are still one or two items of which to be aware. Also, please note these are the requirements to build VM Operator, not run it. Requirement Version Operating System Linux, macOS Docker >=21.0 Build the Container Image The following one-line command is the quickest, simplest, and most deterministic approach to building the VM Operator container image: make docker-build Build with Go The other option is to build the VM Operator binaries directly with Golang. Go Build Requirements Building VM Operator with Go has the following requirements: Requirement Version Operating System Linux, macOS Go >=1.19 Git >= 2.0 Build the Manager The primary artifact for VM Operator is the manager binary: make manager Build the Web Console Validator The other artifact is the web-console-validator binary that is used on vSphere Supervisors to enable the web console feature via kubectl : make web-console-validator","title":"Build Reference"},{"location":"dev-guide/build-reference/#build-reference","text":"How to build VM Operator","title":"Build Reference"},{"location":"dev-guide/build-reference/#build-with-docker","text":"By far the simplest method for building VM Operator is with Docker.","title":"Build with Docker"},{"location":"dev-guide/build-reference/#docker-build-requirements","text":"This project has very few build requirements, but there are still one or two items of which to be aware. Also, please note these are the requirements to build VM Operator, not run it. Requirement Version Operating System Linux, macOS Docker >=21.0","title":"Docker Build Requirements"},{"location":"dev-guide/build-reference/#build-the-container-image","text":"The following one-line command is the quickest, simplest, and most deterministic approach to building the VM Operator container image: make docker-build","title":"Build the Container Image"},{"location":"dev-guide/build-reference/#build-with-go","text":"The other option is to build the VM Operator binaries directly with Golang.","title":"Build with Go"},{"location":"dev-guide/build-reference/#go-build-requirements","text":"Building VM Operator with Go has the following requirements: Requirement Version Operating System Linux, macOS Go >=1.19 Git >= 2.0","title":"Go Build Requirements"},{"location":"dev-guide/build-reference/#build-the-manager","text":"The primary artifact for VM Operator is the manager binary: make manager","title":"Build the Manager"},{"location":"dev-guide/build-reference/#build-the-web-console-validator","text":"The other artifact is the web-console-validator binary that is used on vSphere Supervisors to enable the web console feature via kubectl : make web-console-validator","title":"Build the Web Console Validator"},{"location":"dev-guide/project-guidelines/","text":"Project Guidelines These are important. People contributing code to this project must adhere to the following rules. These standards are in place to keep code clean, consistent, and stable. Documentation There are two types of documentation: source and markdown. Source Code All source code should be documented in accordance with the Go's documentation rules . Markdown When creating or modifying the project's README.md file or any of the documentation in the docs directory, please keep the following rules in mind: All links to internal resources should be relative. All links to markdown files should include the file extension. For example, the below link points to the Supervisor platform: /user-guide/platforms/supervisor.md However, when the above link is followed when viewing this page directly from the Github repository instead of the generated site documentation, the link will return a 404. While it's recommended that users view the generated site documentation instead of the source Markdown directly, we can still fix it so that the above link will work regardless. To fix the link, simply make it relative and add the Markdown file extension: ../user-guide/platforms/supervisor.md Now the link will work regardless from where it's viewed. Style & Syntax All source files should be linted. Any errors or warnings produced by the tools should be corrected before the source is committed. To lint the project, please run the following command: make lint The above command lints markdown, shell scripts, and Go sources. Your IDE of choice likely has a plug-in that can utilize the golanglint-ci linter, and it will also constantly keep your Go sources up to date. Another option is to use a client-side, pre-commit hook to ensure that the sources meet the required standards. For example, in the project's .git/hooks directory create a file called pre-commit and mark it as executable. Then paste the following content inside the file: #!/bin/sh make lint 1> /dev/null The above script will execute prior to a Git commit operation, prior to even the commit message dialog. The script will invoke the Makefile 's lint target, formatting the sources. If the command returns a non-zero exit code, the commit operation will abort with the error. Code Coverage All new work submitted to the project should have associated tests where applicable. If there is ever a question of whether or not a test is applicable then the answer is likely yes. This project uses GitHub actions to add coverage to pull requests (PR). If a PR's coverage falls below 60%, the check fails and the PR will be declined until such time coverage is increased. It's also possible to test the project locally while outputting the code coverage. On the command line, from the project's root directory, execute the following: make coverage-full Commit Messages Commit messages should follow the guide 5 Useful Tips For a Better Commit Message . The two primary rules to which to adhere are Commit message subjects should not exceed 50 characters in total and should be followed by a blank line. The commit message's body should not have a width that exceeds 72 characters. For example, the following commit has a very useful message that is succinct without losing utility. commit e80c696939a03f26cd180934ba642a729b0d2941 Author: akutz <sakutz@gmail.com> Date: Tue Oct 20 23:47:36 2015 -0500 Added --format,-f option for CLI This patch adds the flag '--format' or '-f' for the following CLI commands: * adapter instances * device [get] * snapshot [get] * snapshot copy * snapshot create * volume [get] * volume attach * volume create * volume map * volume mount * volume path The user can specify either '--format=yml|yaml|json' or '-f yml|yaml|json' in order to influence how the resulting, structured data is marshaled prior to being emitted to the console. Please note that the output above is the full output for viewing a commit. However, because the above message adheres to the commit message rules, it's quite easy to show just the commit's subject: $ git show e80c696939a03f26cd180934ba642a729b0d2941 --format=\"%s\" -s Added --format,-f option for CLI It's also equally simple to print the commit's subject and body together: $ git show e80c696939a03f26cd180934ba642a729b0d2941 --format=\"%s%n%n%b\" -s Added --format,-f option for CLI This patch adds the flag '--format' or '-f' for the following CLI commands: * adapter instances * device [get] * snapshot [get] * snapshot copy * snapshot create * volume [get] * volume attach * volume create * volume map * volume mount * volume path The user can specify either '--format=yml|yaml|json' or '-f yml|yaml|json' in order to influence how the resulting, structured data is marshaled prior to being emitted to the console. Submitting Changes All developers are required to follow the GitHub Flow model when proposing new features or even submitting fixes. Please note that although not explicitly stated in the referenced GitHub Flow model, all work should occur on a fork of this project, not from within a branch of this project itself. Pull requests submitted to this project should adhere to the following guidelines: Branches should be rebased off of the upstream master prior to being opened as pull requests and again prior to merge. This is to ensure that the build system accounts for any changes that may only be detected during the build and test phase. Unless granted an exception a pull request should contain only a single commit. This is because features and patches should be atomic -- wholly shippable items that are either included in a release, or not. Please squash commits on a branch before opening a pull request. It is not a deal-breaker otherwise, but please be prepared to add a comment or explanation as to why you feel multiple commits are required.","title":"Project Guidelines"},{"location":"dev-guide/project-guidelines/#project-guidelines","text":"These are important. People contributing code to this project must adhere to the following rules. These standards are in place to keep code clean, consistent, and stable.","title":"Project Guidelines"},{"location":"dev-guide/project-guidelines/#documentation","text":"There are two types of documentation: source and markdown.","title":"Documentation"},{"location":"dev-guide/project-guidelines/#source-code","text":"All source code should be documented in accordance with the Go's documentation rules .","title":"Source Code"},{"location":"dev-guide/project-guidelines/#markdown","text":"When creating or modifying the project's README.md file or any of the documentation in the docs directory, please keep the following rules in mind: All links to internal resources should be relative. All links to markdown files should include the file extension. For example, the below link points to the Supervisor platform: /user-guide/platforms/supervisor.md However, when the above link is followed when viewing this page directly from the Github repository instead of the generated site documentation, the link will return a 404. While it's recommended that users view the generated site documentation instead of the source Markdown directly, we can still fix it so that the above link will work regardless. To fix the link, simply make it relative and add the Markdown file extension: ../user-guide/platforms/supervisor.md Now the link will work regardless from where it's viewed.","title":"Markdown"},{"location":"dev-guide/project-guidelines/#style-syntax","text":"All source files should be linted. Any errors or warnings produced by the tools should be corrected before the source is committed. To lint the project, please run the following command: make lint The above command lints markdown, shell scripts, and Go sources. Your IDE of choice likely has a plug-in that can utilize the golanglint-ci linter, and it will also constantly keep your Go sources up to date. Another option is to use a client-side, pre-commit hook to ensure that the sources meet the required standards. For example, in the project's .git/hooks directory create a file called pre-commit and mark it as executable. Then paste the following content inside the file: #!/bin/sh make lint 1> /dev/null The above script will execute prior to a Git commit operation, prior to even the commit message dialog. The script will invoke the Makefile 's lint target, formatting the sources. If the command returns a non-zero exit code, the commit operation will abort with the error.","title":"Style &amp; Syntax"},{"location":"dev-guide/project-guidelines/#code-coverage","text":"All new work submitted to the project should have associated tests where applicable. If there is ever a question of whether or not a test is applicable then the answer is likely yes. This project uses GitHub actions to add coverage to pull requests (PR). If a PR's coverage falls below 60%, the check fails and the PR will be declined until such time coverage is increased. It's also possible to test the project locally while outputting the code coverage. On the command line, from the project's root directory, execute the following: make coverage-full","title":"Code Coverage"},{"location":"dev-guide/project-guidelines/#commit-messages","text":"Commit messages should follow the guide 5 Useful Tips For a Better Commit Message . The two primary rules to which to adhere are Commit message subjects should not exceed 50 characters in total and should be followed by a blank line. The commit message's body should not have a width that exceeds 72 characters. For example, the following commit has a very useful message that is succinct without losing utility. commit e80c696939a03f26cd180934ba642a729b0d2941 Author: akutz <sakutz@gmail.com> Date: Tue Oct 20 23:47:36 2015 -0500 Added --format,-f option for CLI This patch adds the flag '--format' or '-f' for the following CLI commands: * adapter instances * device [get] * snapshot [get] * snapshot copy * snapshot create * volume [get] * volume attach * volume create * volume map * volume mount * volume path The user can specify either '--format=yml|yaml|json' or '-f yml|yaml|json' in order to influence how the resulting, structured data is marshaled prior to being emitted to the console. Please note that the output above is the full output for viewing a commit. However, because the above message adheres to the commit message rules, it's quite easy to show just the commit's subject: $ git show e80c696939a03f26cd180934ba642a729b0d2941 --format=\"%s\" -s Added --format,-f option for CLI It's also equally simple to print the commit's subject and body together: $ git show e80c696939a03f26cd180934ba642a729b0d2941 --format=\"%s%n%n%b\" -s Added --format,-f option for CLI This patch adds the flag '--format' or '-f' for the following CLI commands: * adapter instances * device [get] * snapshot [get] * snapshot copy * snapshot create * volume [get] * volume attach * volume create * volume map * volume mount * volume path The user can specify either '--format=yml|yaml|json' or '-f yml|yaml|json' in order to influence how the resulting, structured data is marshaled prior to being emitted to the console.","title":"Commit Messages"},{"location":"dev-guide/project-guidelines/#submitting-changes","text":"All developers are required to follow the GitHub Flow model when proposing new features or even submitting fixes. Please note that although not explicitly stated in the referenced GitHub Flow model, all work should occur on a fork of this project, not from within a branch of this project itself. Pull requests submitted to this project should adhere to the following guidelines: Branches should be rebased off of the upstream master prior to being opened as pull requests and again prior to merge. This is to ensure that the build system accounts for any changes that may only be detected during the build and test phase. Unless granted an exception a pull request should contain only a single commit. This is because features and patches should be atomic -- wholly shippable items that are either included in a release, or not. Please squash commits on a branch before opening a pull request. It is not a deal-breaker otherwise, but please be prepared to add a comment or explanation as to why you feel multiple commits are required.","title":"Submitting Changes"},{"location":"dev-guide/release-process/","text":"Release Process How to release VM Operator Project Stages This project has three parallels stages of release: Name Description unstable The tip or HEAD of the main branch is referred to as unstable staged A commit tagged with the suffix -rc\\d+ such as v0.3.1-rc2 is a staged release. These are release candidates. stable A commit tagged with a version sans -rc\\d+ suffix such as v0.3.1 is a stable release. There are no steps necessary to create an unstable release as that happens automatically whenever an untagged commit is pushed to main . However, the following workflow should be used when tagging a staged release candidate or stable release. Review outstanding issues & pull requests Prepare release notes Commit & pull request Tag the release Review Issues & Pull Requests The first step to a release is to review the outstanding issues and pull requests that are tagged for the release in question. If there are outstanding issues requiring changes or pending pull requests to be merged, handle those prior to tagging any commit as a release candidate or release. It is highly recommended that pull requests be merged synchronously after rebasing each subsequent one off of the new tip of main . Remember, while GitHub will update a pull request as in conflict if a change to main results in a merge conflict with the pull request, GitHub will not force a new build to spawn unless the pull request is actually updated. At the very minimum a pull request's build should be re-executed prior to the pull request being merged if main has changed since the pull request was opened. Prepare Release Notes Update the release notes at .docs/about/release-notes.md . This file is the project's authoritative changelog and should reflect new features, fixes, and any significant changes. The most recent, stable version of the release notes are always available online at VM Operator's documentation site . Commit & Pull Request Once all outstanding issues and pull requests are handled, the release notes are updated, it's time to create a commit. Please make sure that the changes to the release notes and version files are a part of the same commit. This makes identifying the aspects of a release, staged or otherwise, far easier for future developers. A release's commit message can either be a reflection of the release notes or something simple. Either way the commit message should have the following subject format and first line in its body: Release Candidate 0.3.1-rc1 This patch marks release candidate 0.3.1-rc1. If the commit message is longer it should simply reflect the same information from the release notes. Once committed push the change to a fork and open a pull request. Even though this commit marks a staged or official release, the pull request system is still used to assure that the build completes successfully and there are no unforeseen errors. Tag the Release Once the pull request marking the staged or stable release has been merged into upstream 's main it's time to tag the release. Tag Format The release tag should follow a prescribed format depending upon the release type: Release Type Tag Format Example staged vMAJOR.MINOR.PATCH-rc[0-9] v0.3.1-rc1 stable vMAJOR.MINOR.PATCH v0.3.1 Tag Methods There are two ways to tag a release: GitHub Releases Command Line Command Line If tagging a release via the command line be sure to fetch the latest changes from upstream 's main and either merge them into your local copy of main or reset the local copy to reflect upstream prior to creating any tags. The following combination of commands can be used to create a tag for 0.3.1 Release Candidate 1: git fetch upstream && \\ git checkout main && \\ git reset --hard upstream/main && \\ git tag -a -m v0.3.1-rc1 v0.3.1-rc1 The above example combines a few operations: The first command fetches the upstream changes The local main branch is checked out The local main branch is hard reset to upstream/main An annotated tag is created on main for v0.3.1-rc1 , or 0.3.1 Release Candidate 1, with a tag message of v0.3.1-rc1 . Please note that the third step will erase any changes that exist only in the local main branch that do not also exist in the remote, upstream copy. However, if the two branches are not equal this method should not be used to create a tag anyway. The above steps do not actually push the tag upstream. This is to allow for one final review of all the changes before doing so since the appearance of a new, annotated tag in the repository will cause the project's build system to automatically kick off a build that will result in the release of a staged or stable release. For stable releases the project's documentation will also be updated. Once positive everything looks good simply execute the following command to push the tag to the upstream repository: git push upstream v0.3.1-rc1","title":"Release Process"},{"location":"dev-guide/release-process/#release-process","text":"How to release VM Operator","title":"Release Process"},{"location":"dev-guide/release-process/#project-stages","text":"This project has three parallels stages of release: Name Description unstable The tip or HEAD of the main branch is referred to as unstable staged A commit tagged with the suffix -rc\\d+ such as v0.3.1-rc2 is a staged release. These are release candidates. stable A commit tagged with a version sans -rc\\d+ suffix such as v0.3.1 is a stable release. There are no steps necessary to create an unstable release as that happens automatically whenever an untagged commit is pushed to main . However, the following workflow should be used when tagging a staged release candidate or stable release. Review outstanding issues & pull requests Prepare release notes Commit & pull request Tag the release","title":"Project Stages"},{"location":"dev-guide/release-process/#review-issues-pull-requests","text":"The first step to a release is to review the outstanding issues and pull requests that are tagged for the release in question. If there are outstanding issues requiring changes or pending pull requests to be merged, handle those prior to tagging any commit as a release candidate or release. It is highly recommended that pull requests be merged synchronously after rebasing each subsequent one off of the new tip of main . Remember, while GitHub will update a pull request as in conflict if a change to main results in a merge conflict with the pull request, GitHub will not force a new build to spawn unless the pull request is actually updated. At the very minimum a pull request's build should be re-executed prior to the pull request being merged if main has changed since the pull request was opened.","title":"Review Issues &amp; Pull Requests"},{"location":"dev-guide/release-process/#prepare-release-notes","text":"Update the release notes at .docs/about/release-notes.md . This file is the project's authoritative changelog and should reflect new features, fixes, and any significant changes. The most recent, stable version of the release notes are always available online at VM Operator's documentation site .","title":"Prepare Release Notes"},{"location":"dev-guide/release-process/#commit-pull-request","text":"Once all outstanding issues and pull requests are handled, the release notes are updated, it's time to create a commit. Please make sure that the changes to the release notes and version files are a part of the same commit. This makes identifying the aspects of a release, staged or otherwise, far easier for future developers. A release's commit message can either be a reflection of the release notes or something simple. Either way the commit message should have the following subject format and first line in its body: Release Candidate 0.3.1-rc1 This patch marks release candidate 0.3.1-rc1. If the commit message is longer it should simply reflect the same information from the release notes. Once committed push the change to a fork and open a pull request. Even though this commit marks a staged or official release, the pull request system is still used to assure that the build completes successfully and there are no unforeseen errors.","title":"Commit &amp; Pull Request"},{"location":"dev-guide/release-process/#tag-the-release","text":"Once the pull request marking the staged or stable release has been merged into upstream 's main it's time to tag the release.","title":"Tag the Release"},{"location":"dev-guide/release-process/#tag-format","text":"The release tag should follow a prescribed format depending upon the release type: Release Type Tag Format Example staged vMAJOR.MINOR.PATCH-rc[0-9] v0.3.1-rc1 stable vMAJOR.MINOR.PATCH v0.3.1","title":"Tag Format"},{"location":"dev-guide/release-process/#tag-methods","text":"There are two ways to tag a release: GitHub Releases Command Line","title":"Tag Methods"},{"location":"dev-guide/release-process/#command-line","text":"If tagging a release via the command line be sure to fetch the latest changes from upstream 's main and either merge them into your local copy of main or reset the local copy to reflect upstream prior to creating any tags. The following combination of commands can be used to create a tag for 0.3.1 Release Candidate 1: git fetch upstream && \\ git checkout main && \\ git reset --hard upstream/main && \\ git tag -a -m v0.3.1-rc1 v0.3.1-rc1 The above example combines a few operations: The first command fetches the upstream changes The local main branch is checked out The local main branch is hard reset to upstream/main An annotated tag is created on main for v0.3.1-rc1 , or 0.3.1 Release Candidate 1, with a tag message of v0.3.1-rc1 . Please note that the third step will erase any changes that exist only in the local main branch that do not also exist in the remote, upstream copy. However, if the two branches are not equal this method should not be used to create a tag anyway. The above steps do not actually push the tag upstream. This is to allow for one final review of all the changes before doing so since the appearance of a new, annotated tag in the repository will cause the project's build system to automatically kick off a build that will result in the release of a staged or stable release. For stable releases the project's documentation will also be updated. Once positive everything looks good simply execute the following command to push the tag to the upstream repository: git push upstream v0.3.1-rc1","title":"Command Line"},{"location":"user-guide/bootstrap/","text":"Bootstrap Providers Be our guest, be our guest... Overview There are a number of methods that may be used to bootstrap a virtual machine's (VM) guest operating system: Provider Supported Network Config Linux Windows Description Cloud-Init \u2713 Cloud-Init Network v2 \u2713 \u2713 The industry standard, multi-distro method for cross-platform, cloud instance initialization with modern, VM images vAppConfig \u2713 Bespoke \u2713 For images with bespoke, bootstrap engines driven by vAppConfig properties OvfEnv deprecated Guest OS Customization (GOSC) \u2713 A combination of GOSC and Cloud-Init user-data ExtraConfig deprecated GOSC \u2713 For images with bespoke, bootstrap engines that rely on Guest Info data ConfigMap or Secret When VM Operator was first released, the only way to store bootstrap data was via a ConfigMap resource. While this still works, it is not recommended as data stored in a ConfigMap is not encrypted at rest. Instead, it is recommended users switch to using Secret resources for storing bootstrap data. Please note that the choice of a ConfigMap or Secret in no way impacts the choice of the bootstrap provider. The two resources fulfill the same obligation -- they are simply a way to store the bootstrap data. Cloud-Init Cloud-Init is widely recognized as the de facto method for bootstrapping modern VM instances on hyperscalers, including Tanzu with VM Operator. For example, the following YAML provisions a new VM, using Cloud-Init to: add a custom user execute commands on boot write files apiVersion: vmoperator.vmware.com/v1alpha1 kind: VirtualMachine metadata: name: my-vm namespace: my-namespace spec: className: small imageName: ubuntu-2210 storageClass: iscsi vmMetadata: transport: CloudInit secretName: my-vm-bootstrap-data --- apiVersion: v1 kind: Secret metadata: name: my-vm-bootstrap-data namespace: my-namespace stringData: user-data: | #cloud-config users: - default - name: akutz primary_group: akutz groups: users ssh_authorized_keys: - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDSL7uWGj... runcmd: - \"ls /\" - [ \"ls\", \"-a\", \"-l\", \"/\" ] write_files: - path: /etc/my-plaintext permissions: '0644' owner: root:root content: | Hello, world. The data in the above Secret is called the Cloud-Init Cloud Config . For more information on the Cloud-Init Cloud Config format, please see its official documentation . Windows and Cloud-Init It is possible to use the Cloud-Init bootstrap provider to deploy a Windows image if it contains Cloudbase-Init , the Windows port of Cloud-Init. vAppConfig The vAppConfig bootstrap method is useful for legacy, VM images that rely on bespoke, boot-time processes that leverage vAppConfig properties for customizing a guest. Deprecated The following bootstrap providers are still available, but they are deprecated and are not recommended. OvfEnv The OvfEnv method is no longer recommended. It relied on a combination of VMware's Guest OS Customization (GOSC) APIs for bootstrapping the guest's network and the Cloud-Init OVF data source for supplying a Cloud-Init Cloud Config. As a result of mixing bootstrap engines (GOSC and Cloud-Init), there was a race condition that meant any image that used OvfEnv needed to have a special fix applied. This provider is no longer supported and will be removed in v1alpha2. Any consumers still relying on this provider should switch to Cloud-Init. ExtraConfig When Tanzu Kubernetes was first released, the Cluster API provider that depended upon VM Operator used the ExtraConfig provider for supplying bootstrap information. This method was never intended for wide use, and Tanzu now uses Cloud-Init anyway. To that end, this provider is no longer supported and will be removed in v1alpha2. Any consumers still relying on this provider should switch to Cloud-Init.","title":"Bootstrap"},{"location":"user-guide/bootstrap/#bootstrap-providers","text":"Be our guest, be our guest...","title":"Bootstrap Providers"},{"location":"user-guide/bootstrap/#overview","text":"There are a number of methods that may be used to bootstrap a virtual machine's (VM) guest operating system: Provider Supported Network Config Linux Windows Description Cloud-Init \u2713 Cloud-Init Network v2 \u2713 \u2713 The industry standard, multi-distro method for cross-platform, cloud instance initialization with modern, VM images vAppConfig \u2713 Bespoke \u2713 For images with bespoke, bootstrap engines driven by vAppConfig properties OvfEnv deprecated Guest OS Customization (GOSC) \u2713 A combination of GOSC and Cloud-Init user-data ExtraConfig deprecated GOSC \u2713 For images with bespoke, bootstrap engines that rely on Guest Info data ConfigMap or Secret When VM Operator was first released, the only way to store bootstrap data was via a ConfigMap resource. While this still works, it is not recommended as data stored in a ConfigMap is not encrypted at rest. Instead, it is recommended users switch to using Secret resources for storing bootstrap data. Please note that the choice of a ConfigMap or Secret in no way impacts the choice of the bootstrap provider. The two resources fulfill the same obligation -- they are simply a way to store the bootstrap data.","title":"Overview"},{"location":"user-guide/bootstrap/#cloud-init","text":"Cloud-Init is widely recognized as the de facto method for bootstrapping modern VM instances on hyperscalers, including Tanzu with VM Operator. For example, the following YAML provisions a new VM, using Cloud-Init to: add a custom user execute commands on boot write files apiVersion: vmoperator.vmware.com/v1alpha1 kind: VirtualMachine metadata: name: my-vm namespace: my-namespace spec: className: small imageName: ubuntu-2210 storageClass: iscsi vmMetadata: transport: CloudInit secretName: my-vm-bootstrap-data --- apiVersion: v1 kind: Secret metadata: name: my-vm-bootstrap-data namespace: my-namespace stringData: user-data: | #cloud-config users: - default - name: akutz primary_group: akutz groups: users ssh_authorized_keys: - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDSL7uWGj... runcmd: - \"ls /\" - [ \"ls\", \"-a\", \"-l\", \"/\" ] write_files: - path: /etc/my-plaintext permissions: '0644' owner: root:root content: | Hello, world. The data in the above Secret is called the Cloud-Init Cloud Config . For more information on the Cloud-Init Cloud Config format, please see its official documentation . Windows and Cloud-Init It is possible to use the Cloud-Init bootstrap provider to deploy a Windows image if it contains Cloudbase-Init , the Windows port of Cloud-Init.","title":"Cloud-Init"},{"location":"user-guide/bootstrap/#vappconfig","text":"The vAppConfig bootstrap method is useful for legacy, VM images that rely on bespoke, boot-time processes that leverage vAppConfig properties for customizing a guest.","title":"vAppConfig"},{"location":"user-guide/bootstrap/#deprecated","text":"The following bootstrap providers are still available, but they are deprecated and are not recommended.","title":"Deprecated"},{"location":"user-guide/bootstrap/#ovfenv","text":"The OvfEnv method is no longer recommended. It relied on a combination of VMware's Guest OS Customization (GOSC) APIs for bootstrapping the guest's network and the Cloud-Init OVF data source for supplying a Cloud-Init Cloud Config. As a result of mixing bootstrap engines (GOSC and Cloud-Init), there was a race condition that meant any image that used OvfEnv needed to have a special fix applied. This provider is no longer supported and will be removed in v1alpha2. Any consumers still relying on this provider should switch to Cloud-Init.","title":"OvfEnv"},{"location":"user-guide/bootstrap/#extraconfig","text":"When Tanzu Kubernetes was first released, the Cluster API provider that depended upon VM Operator used the ExtraConfig provider for supplying bootstrap information. This method was never intended for wide use, and Tanzu now uses Cloud-Init anyway. To that end, this provider is no longer supported and will be removed in v1alpha2. Any consumers still relying on this provider should switch to Cloud-Init.","title":"ExtraConfig"},{"location":"user-guide/platforms/","text":"Platforms Home is where VM Operator is... // TODO(akutz)","title":"Overview"},{"location":"user-guide/platforms/#platforms","text":"Home is where VM Operator is... // TODO(akutz)","title":"Platforms"},{"location":"user-guide/help/troubleshooting/","text":"Troubleshooting It's not doing what I expected... Solving problems This section details the usual places and methods to look and use when investigating a problem. Is VM Operator running? // TODO(akutz) Are VMs being reconciled? // TODO(akutz) Is the platform healthy? // TODO(akutz) Common Errors This section reviews common errors encountered when using VM Operator. Invalid YAML // TODO(akutz) Bootstrap issue // TODO(akutz)","title":"Troubleshooting"},{"location":"user-guide/help/troubleshooting/#troubleshooting","text":"It's not doing what I expected...","title":"Troubleshooting"},{"location":"user-guide/help/troubleshooting/#solving-problems","text":"This section details the usual places and methods to look and use when investigating a problem.","title":"Solving problems"},{"location":"user-guide/help/troubleshooting/#is-vm-operator-running","text":"// TODO(akutz)","title":"Is VM Operator running?"},{"location":"user-guide/help/troubleshooting/#are-vms-being-reconciled","text":"// TODO(akutz)","title":"Are VMs being reconciled?"},{"location":"user-guide/help/troubleshooting/#is-the-platform-healthy","text":"// TODO(akutz)","title":"Is the platform healthy?"},{"location":"user-guide/help/troubleshooting/#common-errors","text":"This section reviews common errors encountered when using VM Operator.","title":"Common Errors"},{"location":"user-guide/help/troubleshooting/#invalid-yaml","text":"// TODO(akutz)","title":"Invalid YAML"},{"location":"user-guide/help/troubleshooting/#bootstrap-issue","text":"// TODO(akutz)","title":"Bootstrap issue"},{"location":"user-guide/help/usage/","text":"Usage Report status, Initiate awesome... Overview This page reviews how to use the Kubernetes CLI to interact with VM Operator: kubectl Getting Help To print the online help for VM Operator APIs, use the following command: kubectl explain <API>.vmoperator.vmware.com Examples This section illustrates several, common examples for using the Kubernetes CLI: Print the VM Operator version This example shows how to print VM Operator's version: // TODO(akutz) Restart VM Operator // TODO(akutz) List all VMs across all namespaces // TODO(akutz) Create a VM on Supervisor Let's deploy a VM with VM Operator on vSphere Supervisor: note The example below assumes: an available VirtualMachineClass named small an available VirtualMachineImage named ubuntu-22.10 an available StorageClass named iscsi the user has Editor permissions on the namespace my-namespace cat <<EOF | kubectl apply -f # TODO(akutz) EOF Attach a PersistentVolume // TODO(akutz) Detach a PersistentVolume // TODO(akutz)","title":"Usage"},{"location":"user-guide/help/usage/#usage","text":"Report status, Initiate awesome...","title":"Usage"},{"location":"user-guide/help/usage/#overview","text":"This page reviews how to use the Kubernetes CLI to interact with VM Operator: kubectl","title":"Overview"},{"location":"user-guide/help/usage/#getting-help","text":"To print the online help for VM Operator APIs, use the following command: kubectl explain <API>.vmoperator.vmware.com","title":"Getting Help"},{"location":"user-guide/help/usage/#examples","text":"This section illustrates several, common examples for using the Kubernetes CLI:","title":"Examples"},{"location":"user-guide/help/usage/#print-the-vm-operator-version","text":"This example shows how to print VM Operator's version: // TODO(akutz)","title":"Print the VM Operator version"},{"location":"user-guide/help/usage/#restart-vm-operator","text":"// TODO(akutz)","title":"Restart VM Operator"},{"location":"user-guide/help/usage/#list-all-vms-across-all-namespaces","text":"// TODO(akutz)","title":"List all VMs across all namespaces"},{"location":"user-guide/help/usage/#create-a-vm-on-supervisor","text":"Let's deploy a VM with VM Operator on vSphere Supervisor: note The example below assumes: an available VirtualMachineClass named small an available VirtualMachineImage named ubuntu-22.10 an available StorageClass named iscsi the user has Editor permissions on the namespace my-namespace cat <<EOF | kubectl apply -f # TODO(akutz) EOF","title":"Create a VM on Supervisor"},{"location":"user-guide/help/usage/#attach-a-persistentvolume","text":"// TODO(akutz)","title":"Attach a PersistentVolume"},{"location":"user-guide/help/usage/#detach-a-persistentvolume","text":"// TODO(akutz)","title":"Detach a PersistentVolume"},{"location":"user-guide/platforms/supervisor/","text":"Supervisor Out-of-the-box Kubernetes! // TODO(akutz)","title":"Supervisor"},{"location":"user-guide/platforms/supervisor/#supervisor","text":"Out-of-the-box Kubernetes! // TODO(akutz)","title":"Supervisor"}]}